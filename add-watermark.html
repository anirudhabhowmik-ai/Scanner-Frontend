<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Primary Meta Tags -->
    <title>
      Add Watermark to PDF Online Free - Text & Image Watermarks | NextoPDF
    </title>
    <meta
      name="title"
      content="Add Watermark to PDF Online Free - Text & Image Watermarks | NextoPDF"
    />
    <meta
      name="description"
      content="Add watermark to PDF files online for free. Add text or image watermarks with custom position, opacity, and rotation. Protect your documents and establish copyright ownership instantly."
    />
    <meta
      name="keywords"
      content="add watermark to PDF, PDF watermark online, watermark PDF free, text watermark, image watermark, protect PDF, copyright watermark, PDF branding"
    />
    <meta name="author" content="NextoPDF" />
    <meta
      name="robots"
      content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"
    />
    <meta name="google-adsense-account" content="ca-pub-5797619165090350" />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://nextopdf.com/watermark" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://nextopdf.com/watermark" />
    <meta
      property="og:title"
      content="Add Watermark to PDF Online Free - Text & Image Watermarks | NextoPDF"
    />
    <meta
      property="og:description"
      content="Add watermark to PDF files online for free. Add text or image watermarks with custom position, opacity, and rotation. Protect your documents instantly."
    />
    <meta
      property="og:image"
      content="https://nextopdf.com/images/og-image.png"
    />
    <meta property="og:site_name" content="NextoPDF" />
    <meta property="og:locale" content="en_US" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://nextopdf.com/watermark" />
    <meta
      name="twitter:title"
      content="Add Watermark to PDF Online Free - Text & Image Watermarks | NextoPDF"
    />
    <meta
      name="twitter:description"
      content="Add watermark to PDF files online for free. Add text or image watermarks with custom position, opacity, and rotation."
    />
    <meta
      name="twitter:image"
      content="https://nextopdf.com/images/twitter-card.png"
    />

    <!-- Structured Data / Schema.org -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "NextoPDF - Add Watermark to PDF",
        "url": "https://nextopdf.com/watermark",
        "description": "Free online tool to add text or image watermarks to PDF documents with custom positioning and styling",
        "applicationCategory": "UtilitiesApplication",
        "operatingSystem": "Any",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        },
        "featureList": "Text watermarks, Image watermarks, Custom positioning, Opacity control, Rotation, Batch processing"
      }
    </script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&family=Inter:wght@400;500&display=swap"
      rel="stylesheet"
    />

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <!-- Favicon -->
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./images/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="./images/favicon-16x16.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="./images/apple-touch-icon.png"
    />

    <!-- Main CSS -->
    <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" href="./css/watermerk.css" />

    <!-- Google AdSense (Replace with your AdSense ID) -->
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5797619165090350"
      crossorigin="anonymous"
    ></script>
  </head>

  <body>
    <section id="header-placeholder"></section>

    <main>
      <section class="merge-tool" role="main">
        <div class="container">
          <h1>
            NextoPDF - Add Watermark to PDF Online - Protect Your Documents
          </h1>
          <p>
            NextoPDF - Add custom text or image watermarks to PDFs with full
            control over position, opacity, and rotation. Protect copyright and
            establish document ownership.
          </p>

          <div class="upload-section">
            <div id="uploadSection">
              <label class="upload-label" for="pdfUpload">
                <i class="fa fa-upload" aria-hidden="true"></i> Choose PDF files
              </label>
              <input
                type="file"
                id="pdfUpload"
                accept=".pdf"
                multiple
                aria-label="Upload PDF files to add watermark"
              />
            </div>

            <div
              class="success-message"
              id="successMsg"
              role="status"
              aria-live="polite"
            ></div>

            <ul
              id="fileList"
              class="file-list"
              style="display: none"
              role="list"
            ></ul>
            <div
              id="pagesGrid"
              class="pages-grid"
              style="display: none"
              role="region"
              aria-label="PDF pages preview with watermarks"
            ></div>

            <!-- OPTIONS -->
            <div id="wmOptions" style="display: none; text-align: left">
              <div class="watermarkBtn-container">
                <p
                  class="error-text"
                  id="errorMsg"
                  style="display: none"
                  role="alert"
                ></p>
                <button
                  id="watermarkBtn"
                  class="cta-button"
                  aria-label="Add watermark to PDF"
                >
                  <span class="btn-spinner" aria-hidden="true">
                    <i class="fa fa-spinner fa-spin"></i>
                  </span>
                  <span class="btn-text"
                    ><i class="fa fa-stamp" aria-hidden="true"></i
                  ></span>
                  Add Watermark
                </button>
              </div>
              <label>Watermark Type</label>
              <div
                class="radio-group"
                role="radiogroup"
                aria-label="Choose watermark type"
              >
                <label style="display: flex; align-items: center">
                  <input
                    type="radio"
                    name="wmType"
                    value="text"
                    checked
                    style="margin-top: 0"
                    aria-label="Text watermark"
                  />
                  Text
                </label>
                <label style="display: flex; align-items: center">
                  <input
                    type="radio"
                    name="wmType"
                    value="image"
                    style="margin-top: 0"
                    aria-label="Image watermark"
                  />
                  Image
                </label>
              </div>

              <div id="textControls" style="display: flex; gap: 10px">
                <div style="margin-bottom: 5px">
                  <label for="wmText">Watermark Text</label>
                  <input
                    type="text"
                    id="wmText"
                    placeholder="Enter watermark text"
                    style="
                      padding: 6px 8px;
                      border: 1px solid #e5e7eb;
                      border-radius: 6px;
                    "
                    aria-label="Enter watermark text"
                  />
                </div>

                <div>
                  <label>Text Styling</label>
                  <div class="text-style-buttons">
                    <div class="option-group" id="fontFamilyGroup">
                      <select id="fontFamily" aria-label="Select font family">
                        <option value="Helvetica">Helvetica</option>
                        <option value="Helvetica-Bold">Helvetica Bold</option>
                        <option value="Courier">Courier</option>
                        <option value="Times-Roman">Times Roman</option>
                      </select>
                    </div>
                    <div class="option-group" id="fontSizeGroup">
                      <input
                        type="number"
                        id="fontSize"
                        value="36"
                        min="8"
                        max="200"
                        aria-label="Font size"
                      />
                    </div>

                    <div class="color-input-wrapper">
                      <input
                        type="color"
                        id="textColor"
                        value="#000000"
                        aria-label="Text color picker"
                      />
                      <input
                        type="text"
                        id="textColorHex"
                        value="#000000"
                        placeholder="#000000"
                        aria-label="Text color hex code"
                      />
                    </div>

                    <button
                      type="button"
                      id="boldBtn"
                      title="Bold"
                      aria-label="Toggle bold text"
                      aria-pressed="false"
                    >
                      <i class="fa fa-bold" aria-hidden="true"></i>
                    </button>
                    <button
                      type="button"
                      id="italicBtn"
                      title="Italic"
                      aria-label="Toggle italic text"
                      aria-pressed="false"
                    >
                      <i class="fa fa-italic" aria-hidden="true"></i>
                    </button>
                    <button
                      type="button"
                      id="underlineBtn"
                      title="Underline"
                      aria-label="Toggle underline text"
                      aria-pressed="false"
                    >
                      <i class="fa fa-underline" aria-hidden="true"></i>
                    </button>
                  </div>
                </div>
              </div>

              <div id="imageControls" style="display: none">
                <label for="wmImage">Watermark Image</label>
                <input
                  type="file"
                  id="wmImage"
                  accept="image/*"
                  style="
                    padding: 10px;
                    border: 1px solid #e5e7eb;
                    border-radius: 6px;
                  "
                  aria-label="Upload watermark image"
                />
              </div>

              <div class="options-grid">
                <div class="option-group">
                  <label for="opacity">Opacity</label>
                  <input
                    type="number"
                    id="opacity"
                    step="0.1"
                    min="0.1"
                    max="1"
                    value="0.3"
                    aria-label="Watermark opacity from 0.1 to 1"
                  />
                </div>

                <div class="option-group">
                  <label for="rotation">Rotation (degrees)</label>
                  <input
                    type="number"
                    id="rotation"
                    value="0"
                    min="-180"
                    max="180"
                    step="15"
                    aria-label="Rotation angle in degrees"
                  />
                </div>

                <div class="option-group">
                  <label for="position">Position</label>
                  <select id="position" aria-label="Watermark position">
                    <option value="center">Center</option>
                    <option value="top-left">Top Left</option>
                    <option value="top-right">Top Right</option>
                    <option value="bottom-left">Bottom Left</option>
                    <option value="bottom-right">Bottom Right</option>
                  </select>
                </div>

                <div class="option-group">
                  <label for="pageStart">Page Range</label>
                  <div class="page-range-input">
                    <input
                      type="number"
                      id="pageStart"
                      value="1"
                      min="1"
                      placeholder="Start"
                      aria-label="Starting page number"
                    />
                    <input
                      type="number"
                      id="pageEnd"
                      value="0"
                      min="0"
                      placeholder="End (0=all)"
                      aria-label="Ending page number, 0 for all pages"
                    />
                  </div>
                </div>
              </div>
            </div>

            <div class="note-box">
              üí° Drag watermarks to reposition and resize images. Each modified
              page will show an "Apply to All" button.
            </div>

            <div id="resultBtns" style="display: none; margin-top: 30px">
              <div class="result-card">
                <i class="fa fa-file-pdf" aria-hidden="true"></i>
              </div>

              <p class="file-name">
                <a href="#" id="fileNameLink">watermarked.pdf</a>
              </p>

              <div class="result-btns-container">
                <a
                  id="downloadBtn"
                  href="#"
                  class="cta-button"
                  download
                  aria-label="Download watermarked PDF"
                >
                  <i class="fa fa-download" aria-hidden="true"></i> Download
                </a>
                <a
                  id="shareBtn"
                  href="#"
                  class="cta-button"
                  aria-label="Share watermarked PDF"
                >
                  <i class="fa fa-share-alt" aria-hidden="true"></i> Share
                </a>
                <button
                  id="resetBtn"
                  class="secondary-btn"
                  aria-label="Add watermark to another PDF"
                >
                  <i class="fa fa-rotate-right" aria-hidden="true"></i> Add
                  Another Watermark
                </button>
              </div>
            </div>
          </div>

          <div id="pdfPreview" style="display: none; margin-top: 30px">
            <h2>Preview Watermarked PDF</h2>
            <iframe
              id="pdfFrame"
              width="100%"
              height="600"
              style="border-radius: 12px; border: 1px solid #e5e7eb"
              title="Watermarked PDF preview"
            ></iframe>
          </div>
        </div>
      </section>

      <!-- Advanced Watermarking Techniques Section -->
      <section class="features" style="padding: 60px 20px">
        <div class="container">
          <h2>Advanced Watermarking Techniques</h2>
          <p
            style="
              max-width: 900px;
              margin: 0 auto 40px;
              color: #555;
              line-height: 1.8;
              text-align: center;
            "
          >
            Take your watermarking to the next level with dynamic, personalized,
            and multi-layer approaches for maximum protection and
            professionalism.
          </p>

          <div
            style="
              max-width: 1000px;
              margin: 0 auto;
              display: flex;
              flex-wrap: wrap;
              gap: 20px;
              justify-content: center;
            "
          >
            <!-- Card 1 -->
            <div
              style="
                background: white;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
                padding: 25px;
                flex: 1 1 300px;
                min-width: 280px;
              "
            >
              <h3 style="color: #065f46; margin-bottom: 10px">
                Personalized Watermarks
              </h3>
              <p style="color: #555; line-height: 1.6">
                Embed recipient names, emails, or unique codes in watermarks to
                trace document sharing and prevent unauthorized redistribution.
              </p>
            </div>

            <!-- Card 2 -->
            <div
              style="
                background: white;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
                padding: 25px;
                flex: 1 1 300px;
                min-width: 280px;
              "
            >
              <h3 style="color: #065f46; margin-bottom: 10px">
                Multi-Layer Watermarks
              </h3>
              <p style="color: #555; line-height: 1.6">
                Combine text and image watermarks on different layers for added
                security and visual impact without compromising readability.
              </p>
            </div>

            <!-- Card 3 -->
            <div
              style="
                background: white;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
                padding: 25px;
                flex: 1 1 300px;
                min-width: 280px;
              "
            >
              <h3 style="color: #065f46; margin-bottom: 10px">
                Dynamic Positioning
              </h3>
              <p style="color: #555; line-height: 1.6">
                Rotate, stagger, or place watermarks dynamically on different
                pages to make removal more difficult and enhance protection.
              </p>
            </div>

            <!-- Card 4 -->
            <div
              style="
                background: white;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
                padding: 25px;
                flex: 1 1 300px;
                min-width: 280px;
              "
            >
              <h3 style="color: #065f46; margin-bottom: 10px">
                Invisible & Metadata Watermarks
              </h3>
              <p style="color: #555; line-height: 1.6">
                Embed invisible watermarks or metadata tags for tracking and
                copyright verification while keeping the document visually
                clean.
              </p>
            </div>

            <!-- Card 5 -->
            <div
              style="
                background: white;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
                padding: 25px;
                flex: 1 1 300px;
                min-width: 280px;
              "
            >
              <h3 style="color: #065f46; margin-bottom: 10px">
                Conditional Watermarks
              </h3>
              <p style="color: #555; line-height: 1.6">
                Apply watermarks based on document sensitivity, user access
                levels, or page content, ensuring appropriate protection for
                each context.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- The Story Behind This Tool (Why I Built It) -->
      <section class="features" style="padding: 60px 20px">
        <div class="container">
          <h2>Why I Built This Watermark Tool</h2>
          <div style="max-width: 900px; margin: 0 auto; text-align: left">
            <div
              style="
                background: white;
                padding: 30px;
                border-radius: 12px;
                margin-bottom: 30px;
              "
            >
              <p
                style="
                  color: #555;
                  line-height: 1.8;
                  font-size: 16px;
                  margin-bottom: 20px;
                "
              >
                A photographer friend called me last year, really frustrated.
                He'd shared some portfolio samples with a potential client, and
                that client turned around and used his photos on their website
                without permission or payment. No credit, no link, nothing.
              </p>
              <p
                style="
                  color: #555;
                  line-height: 1.8;
                  font-size: 16px;
                  margin-bottom: 20px;
                "
              >
                He asked if there was a way to make sure his name stayed on his
                work. That's when I built this watermark tool. Now he runs all
                his portfolio PDFs through here before sending them out. His
                name appears faintly on every page - visible enough that nobody
                can claim the work as theirs, but subtle enough that clients can
                still appreciate the images.
              </p>
              <p style="color: #555; line-height: 1.8; font-size: 16px">
                He hasn't had anyone steal his work since.
              </p>
            </div>

            <h3 style="color: #1e3a8a; margin-bottom: 15px; margin-top: 25px">
              Real People, Real Reasons (From Emails)
            </h3>

            <div style="display: grid; gap: 15px; margin-bottom: 30px">
              <div
                style="
                  background: white;
                  padding: 15px 20px;
                  border-radius: 8px;
                  border-left: 4px solid #4f46e5;
                "
              >
                <p style="color: #555; line-height: 1.8">
                  <strong>üì∏ The photographer:</strong> "My friend (the one who
                  inspired this) now adds his website URL as a watermark to
                  every proof gallery. Clients know where to find him, and
                  nobody uses the images without permission."
                </p>
              </div>
              <div
                style="
                  background: white;
                  padding: 15px 20px;
                  border-radius: 8px;
                  border-left: 4px solid #4f46e5;
                "
              >
                <p style="color: #555; line-height: 1.8">
                  <strong>üìù The writer:</strong> "I send free sample chapters
                  of my ebook to newsletter subscribers. 'SAMPLE' watermark
                  means they can read it but can't pass it off as the full
                  thing." - Self-published author
                </p>
              </div>
              <div
                style="
                  background: white;
                  padding: 15px 20px;
                  border-radius: 8px;
                  border-left: 4px solid #4f46e5;
                "
              >
                <p style="color: #555; line-height: 1.8">
                  <strong>‚öñÔ∏è The lawyer:</strong> "We watermark draft contracts
                  with 'DRAFT - NOT FINAL' so clients don't accidentally sign
                  the wrong version. Saved us from at least one major mistake."
                  - Legal professional
                </p>
              </div>
              <div
                style="
                  background: white;
                  padding: 15px 20px;
                  border-radius: 8px;
                  border-left: 4px solid #4f46e5;
                "
              >
                <p style="color: #555; line-height: 1.8">
                  <strong>üè¢ The consultant:</strong> "Internal reports get
                  'CONFIDENTIAL' watermarks before we email them to clients.
                  Reminds everyone these aren't for public sharing." - Business
                  consultant
                </p>
              </div>
              <div
                style="
                  background: white;
                  padding: 15px 20px;
                  border-radius: 8px;
                  border-left: 4px solid #4f46e5;
                "
              >
                <p style="color: #555; line-height: 1.8">
                  <strong>üé® The designer:</strong> "My portfolio PDFs have my
                  logo faintly in the background. When recruiters share them
                  internally, my name goes with the work." - Graphic designer
                </p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- How to Add Watermarks (Simple Steps) -->
      <section class="features" style="background: white; padding: 60px 20px">
        <div class="container">
          <h2>How to Add Watermarks (Three Simple Steps)</h2>
          <div style="max-width: 900px; margin: 0 auto">
            <div class="feature-grid" style="margin-bottom: 30px">
              <div class="feature-card" style="background: #f9fafb">
                <div
                  style="
                    font-size: 48px;
                    color: #4f46e5;
                    font-weight: bold;
                    margin-bottom: 10px;
                  "
                >
                  1
                </div>
                <h3>Upload Your PDF</h3>
                <p>
                  Small files (under 20MB) stay in your browser - never
                  uploaded. Larger files get processed on a server and deleted
                  immediately after. Your documents stay yours.
                </p>
              </div>
              <div class="feature-card" style="background: #f9fafb">
                <div
                  style="
                    font-size: 48px;
                    color: #4f46e5;
                    font-weight: bold;
                    margin-bottom: 10px;
                  "
                >
                  2
                </div>
                <h3>Choose Your Watermark</h3>
                <p>
                  Type text (like "CONFIDENTIAL" or your name) or upload an
                  image logo. Pick where it goes, how big, and how transparent.
                  The preview shows you exactly what you'll get.
                </p>
              </div>
              <div class="feature-card" style="background: #f9fafb">
                <div
                  style="
                    font-size: 48px;
                    color: #4f46e5;
                    font-weight: bold;
                    margin-bottom: 10px;
                  "
                >
                  3
                </div>
                <h3>Download Your Watermarked PDF</h3>
                <p>
                  Click "Add Watermark," wait a few seconds, and download. Your
                  document now has your mark on every page you selected.
                </p>
              </div>
            </div>

            <div
              style="
                background: #e8f0fe;
                padding: 20px;
                border-radius: 8px;
                text-align: center;
              "
            >
              <p style="color: #1e3a8a; font-weight: 500">
                üëÄ Pro tip: Make it subtle. A faint watermark in the background
                protects your work without distracting from it. My photographer
                friend learned this after his first try was so dark clients
                couldn't see the photos.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Why Watermark (Real Talk) -->
      <section class="features" style="background: #f9fafb; padding: 60px 20px">
        <div class="container">
          <h2>Why Bother Watermarking?</h2>
          <div style="max-width: 900px; margin: 0 auto; text-align: left">
            <div
              style="
                margin-bottom: 40px;
                background: white;
                padding: 25px;
                border-radius: 12px;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 15px">
                üîí Protect Your Work (Like My Photographer Friend)
              </h3>
              <p style="color: #555; line-height: 1.8">
                If you create something - photos, writing, designs, research -
                someone else might try to use it without asking. A visible
                watermark doesn't stop determined thieves, but it stops the
                casual ones. More importantly, if your work shows up somewhere
                it shouldn't, your name or logo goes with it.
              </p>
            </div>

            <div
              style="
                margin-bottom: 40px;
                background: white;
                padding: 25px;
                border-radius: 12px;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 15px">
                üè¢ Mark Document Status
              </h3>
              <p style="color: #555; line-height: 1.8">
                <strong>DRAFT</strong> - So nobody thinks it's final.<br />
                <strong>CONFIDENTIAL</strong> - So nobody forwards it without
                thinking.<br />
                <strong>SAMPLE</strong> - So nobody confuses a preview with the
                real thing.<br />
                <strong>FOR REVIEW</strong> - So everyone knows feedback is
                expected.
              </p>
              <p style="color: #555; line-height: 1.8; margin-top: 15px">
                That lawyer I mentioned? They had a client almost sign a draft
                contract with missing terms. A big "DRAFT" watermark across
                every page would have made it obvious. Now they do that.
              </p>
            </div>

            <div
              style="
                margin-bottom: 40px;
                background: white;
                padding: 25px;
                border-radius: 12px;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 15px">
                üì¢ Free Advertising
              </h3>
              <p style="color: #555; line-height: 1.8">
                The designer who puts their logo faintly in the corner of
                portfolio samples? When recruiters share those PDFs internally,
                that logo goes everywhere. It's not obnoxious, but it reminds
                people where the work came from. I've gotten emails from people
                who found clients this way.
              </p>
            </div>

            <div
              style="
                margin-bottom: 40px;
                background: white;
                padding: 25px;
                border-radius: 12px;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 15px">
                üìã Legal and Compliance Stuff
              </h3>
              <p style="color: #555; line-height: 1.8">
                Some industries require it. Healthcare documents might need
                privacy notices. Financial reports might need confidentiality
                markers. Government docs have classification levels. Watermarks
                satisfy requirements and remind people handling the document to
                be careful.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- How to Choose the Right Watermark -->
      <section class="features" style="background: white; padding: 60px 20px">
        <div class="container">
          <h2>How to Choose the Right Watermark</h2>
          <div style="max-width: 900px; margin: 0 auto; text-align: left">
            <div
              style="
                margin-bottom: 35px;
                padding-left: 20px;
                border-left: 4px solid #4f46e5;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 10px">
                üî§ Text or Image?
              </h3>
              <p style="color: #555; line-height: 1.8">
                <strong>Text watermarks</strong> are best for status indicators
                - "DRAFT," "CONFIDENTIAL," "SAMPLE." Quick to type, easy to
                read, gets the point across.<br />
                <strong>Image watermarks</strong> (logos) are better for
                branding and ownership. Your logo or website URL as an image
                looks more professional than text.
              </p>
            </div>

            <div
              style="
                margin-bottom: 35px;
                padding-left: 20px;
                border-left: 4px solid #4f46e5;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 10px">
                üìç Where to Put It
              </h3>
              <p style="color: #555; line-height: 1.8">
                <strong>Center</strong> - Most visible, most distracting. Good
                for "CONFIDENTIAL" where you really want people to notice.<br />
                <strong>Corners</strong> - Less distracting, still present. Good
                for logos and ownership marks.<br />
                <strong>Diagonal across the page</strong> - Hard to crop out,
                covers the whole document. Great for "SAMPLE" or "DRAFT."
              </p>
            </div>

            <div
              style="
                margin-bottom: 35px;
                padding-left: 20px;
                border-left: 4px solid #4f46e5;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 10px">
                üëÅÔ∏è Transparency (The Most Important Setting)
              </h3>
              <p style="color: #555; line-height: 1.8">
                This is where my photographer friend messed up at first. He made
                his watermark solid black - you couldn't see the photos
                underneath. Now he sets it to about 30% opacity. You can see his
                name, but the images are still clear.<br />
                <strong>10-30%</strong> - Subtle, doesn't distract<br />
                <strong>40-60%</strong> - Noticeable but content still
                visible<br />
                <strong>70-100%</strong> - Overpowers the document (only use for
                "URGENT" or when you really want attention)
              </p>
            </div>

            <div
              style="
                margin-bottom: 35px;
                padding-left: 20px;
                border-left: 4px solid #4f46e5;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 10px">
                üìè Size Matters
              </h3>
              <p style="color: #555; line-height: 1.8">
                Too small and people miss it. Too big and it's all they see. For
                text, start with 24-36pt and adjust. For logos, keep them
                proportional - they should be visible but not dominating the
                page.
              </p>
            </div>

            <div
              style="
                background: #f9fafb;
                padding: 20px;
                border-radius: 8px;
                margin-top: 20px;
              "
            >
              <p style="color: #1e3a8a; font-weight: 500">
                ‚ö° What I learned: Always preview first. What looks good in your
                head might look terrible on the page. The preview exists for a
                reason - use it.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Common Problems (And Fixes) -->
      <section class="features" style="background: #f9fafb; padding: 60px 20px">
        <div class="container">
          <h2>Stuff That Goes Wrong (And How to Fix It)</h2>
          <div style="max-width: 900px; margin: 0 auto; text-align: left">
            <div
              style="
                margin-bottom: 25px;
                background: white;
                padding: 20px;
                border-radius: 12px;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 10px">
                üëÅÔ∏è "The watermark is too dark / too light"
              </h3>
              <p style="color: #555; line-height: 1.8">
                Adjust the opacity. Lower number = more transparent. My
                photographer friend aims for 30% on photos. For text documents,
                40-50% might work better. Experiment until it feels right.
              </p>
            </div>

            <div
              style="
                margin-bottom: 25px;
                background: white;
                padding: 20px;
                border-radius: 12px;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 10px">
                üìç "It's in the wrong spot"
              </h3>
              <p style="color: #555; line-height: 1.8">
                Change the position and try again. If you already downloaded,
                just re-upload the original (not the watermarked one) and do it
                over. Original is still there.
              </p>
            </div>

            <div
              style="
                margin-bottom: 25px;
                background: white;
                padding: 20px;
                border-radius: 12px;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 10px">
                üñºÔ∏è "My image watermark looks blurry"
              </h3>
              <p style="color: #555; line-height: 1.8">
                Upload a higher resolution image. Small logos get pixelated when
                stretched. Use a PNG with transparent background if possible -
                looks cleaner.
              </p>
            </div>

            <div
              style="
                margin-bottom: 25px;
                background: white;
                padding: 20px;
                border-radius: 12px;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 10px">
                üîí "It won't let me add a watermark"
              </h3>
              <p style="color: #555; line-height: 1.8">
                Password protected? Can't edit locked files. Use the Unlock PDF
                tool first, then come back here.
              </p>
            </div>

            <div
              style="
                margin-bottom: 25px;
                background: white;
                padding: 20px;
                border-radius: 12px;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 10px">
                üìÑ "Watermark only appears on some pages"
              </h3>
              <p style="color: #555; line-height: 1.8">
                Check your page range settings. Make sure you haven't limited it
                to specific pages. If you want every page watermarked, set range
                to "all."
              </p>
            </div>

            <div
              style="
                margin-bottom: 25px;
                background: white;
                padding: 20px;
                border-radius: 12px;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 10px">
                üîÑ "The watermark is upside down"
              </h3>
              <p style="color: #555; line-height: 1.8">
                For diagonal watermarks, you can adjust the angle. If it's going
                the wrong way, try 45 degrees instead of 315, or vice versa.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- FAQ - Real Questions -->
      <section class="features" style="background: white; padding: 60px 20px">
        <div class="container">
          <h2>Questions People Actually Ask</h2>
          <div style="max-width: 800px; margin: 0 auto; text-align: left">
            <div
              style="
                margin-bottom: 30px;
                border-bottom: 1px solid #e5e7eb;
                padding-bottom: 20px;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 10px">
                "Can someone remove my watermark?"
              </h3>
              <p style="color: #555; line-height: 1.8">
                A determined person with Photoshop could. But most people won't
                bother. The goal isn't to make it impossible to remove - it's to
                make it obvious when someone uses your work without permission.
                A visible watermark means your name goes wherever the document
                goes.
              </p>
            </div>

            <div
              style="
                margin-bottom: 30px;
                border-bottom: 1px solid #e5e7eb;
                padding-bottom: 20px;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 10px">
                "Can I watermark just specific pages?"
              </h3>
              <p style="color: #555; line-height: 1.8">
                Yes. Set the page range. Want only page 1 watermarked? Set start
                1, end 1. Want pages 5-10? Set that range. Everyone else leaves
                blank.
              </p>
            </div>

            <div
              style="
                margin-bottom: 30px;
                border-bottom: 1px solid #e5e7eb;
                padding-bottom: 20px;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 10px">
                "Does this work with scanned documents?"
              </h3>
              <p style="color: #555; line-height: 1.8">
                Yes. Even if your PDF is just images of pages, the watermark
                gets added on top. It'll print and display normally.
              </p>
            </div>

            <div
              style="
                margin-bottom: 30px;
                border-bottom: 1px solid #e5e7eb;
                padding-bottom: 20px;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 10px">
                "Can I add multiple watermarks?"
              </h3>
              <p style="color: #555; line-height: 1.8">
                One at a time with this tool. If you need "CONFIDENTIAL" and
                your logo, do one, save, then do the second on the saved file. A
                bit manual but works.
              </p>
            </div>

            <div
              style="
                margin-bottom: 30px;
                border-bottom: 1px solid #e5e7eb;
                padding-bottom: 20px;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 10px">
                "Do you keep my files?"
              </h3>
              <p style="color: #555; line-height: 1.8">
                Small files stay in your browser - never uploaded. Large files
                are deleted from servers immediately after processing. I don't
                keep anything.
              </p>
            </div>

            <div
              style="
                margin-bottom: 30px;
                border-bottom: 1px solid #e5e7eb;
                padding-bottom: 20px;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 10px">
                "Can I remove a watermark later?"
              </h3>
              <p style="color: #555; line-height: 1.8">
                Not easily. Keep your original unwatermarked file as a backup.
                If you need to remove it later, you'll need to start from the
                original.
              </p>
            </div>

            <div style="margin-bottom: 30px">
              <h3 style="color: #1e3a8a; margin-bottom: 10px">
                "Something's not working. Can you help?"
              </h3>
              <p style="color: #555; line-height: 1.8">
                Email me at <strong>nextopdf@gmail.com</strong>. Tell me what
                happened. I read everything and usually fix it within a day.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Related Tools -->
      <section class="features" style="background: #f9fafb; padding: 60px 20px">
        <div class="container">
          <h2>Other Tools You Might Need</h2>
          <p style="text-align: center; color: #555; margin-bottom: 40px">
            Same deal - all free, no sign-ups
          </p>
          <div class="feature-grid">
            <div class="feature-card">
              <i
                class="fas fa-lock"
                style="font-size: 40px; color: #4f46e5; margin-bottom: 15px"
              ></i>
              <h3>Protect PDF</h3>
              <p>Add password protection to your watermarked documents.</p>
              <a
                href="/protect-pdf"
                class="cta-button"
                style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
                >Use Tool</a
              >
            </div>
            <div class="feature-card">
              <i
                class="fas fa-object-group"
                style="font-size: 40px; color: #4f46e5; margin-bottom: 15px"
              ></i>
              <h3>Merge PDF</h3>
              <p>Combine watermarked PDFs with other documents.</p>
              <a
                href="/merge"
                class="cta-button"
                style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
                >Use Tool</a
              >
            </div>
            <div class="feature-card">
              <i
                class="fas fa-sort-numeric-up"
                style="font-size: 40px; color: #4f46e5; margin-bottom: 15px"
              ></i>
              <h3>Add Page Numbers</h3>
              <p>Add page numbers alongside your watermarks.</p>
              <a
                href="/page-number"
                class="cta-button"
                style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
                >Use Tool</a
              >
            </div>
          </div>
        </div>
      </section>

      <!-- Simple Contact Reminder -->
      <section
        style="
          background: white;
          padding: 30px 20px;
          text-align: center;
          border-top: 1px solid #e5e7eb;
        "
      >
        <div class="container">
          <p style="font-size: 18px; color: #1e3a8a">
            Questions? Something not working?
            <a
              href="mailto:nextopdf@gmail.com"
              style="color: #4f46e5; font-weight: bold; text-decoration: none"
              >nextopdf@gmail.com</a
            >
          </p>
          <p style="color: #555; margin-top: 10px">
            I actually reply (usually within a day)
          </p>
        </div>
      </section>

      <!-- Tips for Efficient Watermarking Section -->
      <section class="features" style="background: #fefce8; padding: 60px 20px">
        <div class="container">
          <h2>Tips for Efficient Watermarking</h2>
          <p
            style="
              max-width: 900px;
              margin: 0 auto 40px;
              color: #555;
              line-height: 1.8;
              text-align: center;
            "
          >
            Make your watermarking workflow faster and more accurate with these
            simple best practices.
          </p>

          <div
            style="
              max-width: 1000px;
              margin: 0 auto;
              display: flex;
              flex-wrap: wrap;
              gap: 20px;
              justify-content: center;
            "
          >
            <!-- Card 1 -->
            <div
              style="
                background: white;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
                padding: 25px;
                flex: 1 1 300px;
                min-width: 280px;
              "
            >
              <h3 style="color: #b45309; margin-bottom: 10px">
                Plan Your Pages
              </h3>
              <p style="color: #555; line-height: 1.6">
                Identify which pages need watermarks before starting. Planning
                avoids unnecessary edits and ensures consistency across the
                document.
              </p>
            </div>

            <!-- Card 2 -->
            <div
              style="
                background: white;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
                padding: 25px;
                flex: 1 1 300px;
                min-width: 280px;
              "
            >
              <h3 style="color: #b45309; margin-bottom: 10px">
                Use Batch Watermarking
              </h3>
              <p style="color: #555; line-height: 1.6">
                Apply the same watermark settings to multiple PDFs or pages at
                once to save time and maintain uniform branding.
              </p>
            </div>

            <!-- Card 3 -->
            <div
              style="
                background: white;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
                padding: 25px;
                flex: 1 1 300px;
                min-width: 280px;
              "
            >
              <h3 style="color: #b45309; margin-bottom: 10px">
                Preview Before Download
              </h3>
              <p style="color: #555; line-height: 1.6">
                Always use the live preview feature to ensure your watermark
                appears correctly on each page and doesn‚Äôt obscure important
                content.
              </p>
            </div>

            <!-- Card 4 -->
            <div
              style="
                background: white;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
                padding: 25px;
                flex: 1 1 300px;
                min-width: 280px;
              "
            >
              <h3 style="color: #b45309; margin-bottom: 10px">
                Optimize Watermark Size
              </h3>
              <p style="color: #555; line-height: 1.6">
                Choose the right size for readability without dominating the
                page. Balance visibility with subtlety for professional
                documents.
              </p>
            </div>

            <!-- Card 5 -->
            <div
              style="
                background: white;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
                padding: 25px;
                flex: 1 1 300px;
                min-width: 280px;
              "
            >
              <h3 style="color: #b45309; margin-bottom: 10px">
                Keep Templates Ready
              </h3>
              <p style="color: #555; line-height: 1.6">
                Save commonly used watermarks as templates. This speeds up
                repetitive tasks and ensures consistent branding across multiple
                projects.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Common Mistakes to Avoid Section -->
      <section class="features" style="background: #e0f2fe; padding: 60px 20px">
        <div class="container">
          <h2>Common Mistakes to Avoid When Watermarking PDFs</h2>
          <p
            style="
              max-width: 900px;
              margin: 0 auto 40px;
              color: #555;
              line-height: 1.8;
              text-align: center;
            "
          >
            Avoid these common pitfalls to ensure your watermarks are effective,
            professional, and legally meaningful.
          </p>

          <div
            style="
              max-width: 1000px;
              margin: 0 auto;
              display: flex;
              flex-wrap: wrap;
              gap: 20px;
              justify-content: center;
            "
          >
            <!-- Card 1 -->
            <div
              style="
                background: white;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
                padding: 25px;
                flex: 1 1 300px;
                min-width: 280px;
              "
            >
              <h3 style="color: #0369a1; margin-bottom: 10px">
                Overlapping Content
              </h3>
              <p style="color: #555; line-height: 1.6">
                Avoid placing watermarks over important text or images. Proper
                positioning ensures your watermark protects without obstructing
                content.
              </p>
            </div>

            <!-- Card 2 -->
            <div
              style="
                background: white;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
                padding: 25px;
                flex: 1 1 300px;
                min-width: 280px;
              "
            >
              <h3 style="color: #0369a1; margin-bottom: 10px">
                Too High or Low Opacity
              </h3>
              <p style="color: #555; line-height: 1.6">
                Extremely faint watermarks may be ineffective; overly bold ones
                can distract. Test different opacity levels to strike the right
                balance.
              </p>
            </div>

            <!-- Card 3 -->
            <div
              style="
                background: white;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
                padding: 25px;
                flex: 1 1 300px;
                min-width: 280px;
              "
            >
              <h3 style="color: #0369a1; margin-bottom: 10px">
                Ignoring Page Ranges
              </h3>
              <p style="color: #555; line-height: 1.6">
                Applying watermarks to irrelevant pages can clutter the
                document. Use page ranges to target only the necessary sections.
              </p>
            </div>

            <!-- Card 4 -->
            <div
              style="
                background: white;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
                padding: 25px;
                flex: 1 1 300px;
                min-width: 280px;
              "
            >
              <h3 style="color: #0369a1; margin-bottom: 10px">
                Incorrect File Format for Images
              </h3>
              <p style="color: #555; line-height: 1.6">
                Using low-resolution or non-transparent images can look
                unprofessional. Always use high-quality PNGs for image
                watermarks.
              </p>
            </div>

            <!-- Card 5 -->
            <div
              style="
                background: white;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
                padding: 25px;
                flex: 1 1 300px;
                min-width: 280px;
              "
            >
              <h3 style="color: #0369a1; margin-bottom: 10px">
                Skipping Final Review
              </h3>
              <p style="color: #555; line-height: 1.6">
                Always preview your watermarked PDF before download. Review
                placement, opacity, and visibility to ensure professional
                results.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Related Tools Section -->
      <section class="benefits" style="background: white; padding-top: 60px">
        <div class="container">
          <h2>Related PDF Protection Tools</h2>
          <div class="feature-grid">
            <div class="feature-card">
              <i
                class="fas fa-lock"
                style="font-size: 40px; color: #4f46e5; margin-bottom: 15px"
                aria-hidden="true"
              ></i>
              <h3>Protect PDF</h3>
              <p>
                Add password encryption to watermarked documents for maximum
                security. Combine watermarks with password protection.
              </p>
              <a
                href="/protect-pdf"
                class="cta-button"
                style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
                >Use Tool</a
              >
            </div>
            <div class="feature-card">
              <i
                class="fas fa-sort-numeric-up"
                style="font-size: 40px; color: #4f46e5; margin-bottom: 15px"
                aria-hidden="true"
              ></i>
              <h3>Add Page Numbers</h3>
              <p>
                Add professional page numbering to watermarked documents.
                Combine watermarks with page numbers for complete branding.
              </p>
              <a
                href="/page-number"
                class="cta-button"
                style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
                >Use Tool</a
              >
            </div>
            <div class="feature-card">
              <i
                class="fas fa-file-pdf"
                style="font-size: 40px; color: #10b981; margin-bottom: 15px"
                aria-hidden="true"
              ></i>
              <h3>PDF to PDF/A</h3>
              <p>
                Convert watermarked PDFs to archival format for long-term
                storage with embedded protection.
              </p>
              <a
                href="/pdf-to-pdfa"
                class="cta-button"
                style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
                >Use Tool</a
              >
            </div>
            <div class="feature-card">
              <i
                class="fas fa-object-group"
                style="font-size: 40px; color: #4f46e5; margin-bottom: 15px"
                aria-hidden="true"
              ></i>
              <h3>Merge PDF</h3>
              <p>
                Combine multiple watermarked PDFs into single documents while
                preserving all watermarks.
              </p>
              <a
                href="/merge"
                class="cta-button"
                style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
                >Use Tool</a
              >
            </div>
            <div class="feature-card">
              <i
                class="fas fa-compress"
                style="font-size: 40px; color: #f59e0b; margin-bottom: 15px"
                aria-hidden="true"
              ></i>
              <h3>Compress PDF</h3>
              <p>
                Reduce file size of watermarked PDFs for easier sharing while
                maintaining watermark quality.
              </p>
              <a
                href="/compress-pdf"
                class="cta-button"
                style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
                >Use Tool</a
              >
            </div>
            <div class="feature-card">
              <i
                class="fas fa-edit"
                style="font-size: 40px; color: #4f46e5; margin-bottom: 15px"
                aria-hidden="true"
              ></i>
              <h3>Edit PDF</h3>
              <p>
                Make content changes before adding watermarks. Edit text and
                images, then apply protection.
              </p>
              <a
                href="/edit"
                class="cta-button"
                style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
                >Use Tool</a
              >
            </div>
          </div>
        </div>
      </section>

      <!-- CTA Section -->
      <section class="hero">
        <div class="container">
          <h2 style="font-size: 32px; margin-bottom: 15px">
            Ready to Protect Your PDFs?
          </h2>
          <p style="margin-bottom: 25px">
            Add professional watermarks instantly. Protect copyright and
            establish ownership with custom text or logos.
          </p>
          <a
            href="#"
            class="cta-button"
            onclick="
              window.scrollTo({ top: 0, behavior: 'smooth' });
              return false;
            "
            aria-label="Scroll to top to add watermark"
          >
            <i class="fa fa-stamp" aria-hidden="true"></i> Start Adding
            Watermarks
          </a>
        </div>
      </section>
    </main>

    <section id="footer-placeholder"></section>

    <script src="./js/app.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
    <script>
      const BACKEND_URL = `${BACKEND_BASE_URL}/add-watermark`;
      const pdfUpload = document.getElementById("pdfUpload");
      const fileList = document.getElementById("fileList");
      const pagesGrid = document.getElementById("pagesGrid");
      const wmOptions = document.getElementById("wmOptions");
      const errorMsg = document.getElementById("errorMsg");
      const successMsg = document.getElementById("successMsg");
      const watermarkBtn = document.getElementById("watermarkBtn");
      const uploadSection = document.getElementById("uploadSection");
      const resultBtns = document.getElementById("resultBtns");
      const downloadBtn = document.getElementById("downloadBtn");
      const shareBtn = document.getElementById("shareBtn");
      const resetBtn = document.getElementById("resetBtn");
      const pdfPreview = document.getElementById("pdfPreview");
      const pdfFrame = document.getElementById("pdfFrame");
      const fileNameLink = document.getElementById("fileNameLink");

      const wmText = document.getElementById("wmText");
      const wmImage = document.getElementById("wmImage");
      const fontSize = document.getElementById("fontSize");
      const opacity = document.getElementById("opacity");
      const position = document.getElementById("position");
      const rotation = document.getElementById("rotation");
      const fontFamily = document.getElementById("fontFamily");
      const pageStart = document.getElementById("pageStart");
      const pageEnd = document.getElementById("pageEnd");
      const textColor = document.getElementById("textColor");
      const textColorHex = document.getElementById("textColorHex");

      const boldBtn = document.getElementById("boldBtn");
      const italicBtn = document.getElementById("italicBtn");
      const underlineBtn = document.getElementById("underlineBtn");

      const fontSizeGroup = document.getElementById("fontSizeGroup");
      const fontFamilyGroup = document.getElementById("fontFamilyGroup");

      let files = [];
      let watermarkData = {
        bold: false,
        italic: false,
        underline: false,
      };
      let totalPagesCount = 0;

      pdfjsLib.GlobalWorkerOptions.workerSrc =
        "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";

      function applyTransform(el, isCenter) {
        const rot = parseFloat(rotation.value) || 0;

        if (isCenter) {
          el.style.transform = `translate(-50%, -50%) rotate(${rot}deg)`;
        } else {
          el.style.transform = `rotate(${rot}deg)`;
        }
      }

      function debounce(func, wait) {
        let timeout;
        return function executedFunction(...args) {
          const later = () => {
            clearTimeout(timeout);
            func(...args);
          };
          clearTimeout(timeout);
          timeout = setTimeout(later, wait);
        };
      }

      textColor.oninput = () => {
        textColorHex.value = textColor.value.toUpperCase();
        updatePreview();
      };

      textColorHex.oninput = () => {
        const hex = textColorHex.value;
        if (/^#[0-9A-F]{6}$/i.test(hex)) {
          textColor.value = hex;
          updatePreview();
        }
      };

      function showError(msg) {
        errorMsg.textContent = msg;
        errorMsg.style.display = "block";
        successMsg.classList.remove("show");
      }

      function clearError() {
        errorMsg.textContent = "";
        errorMsg.style.display = "none";
      }

      function showSuccess(msg) {
        successMsg.textContent = msg;
        successMsg.classList.add("show");
        clearError();
        setTimeout(() => successMsg.classList.remove("show"), 3000);
      }

      document.querySelectorAll("input[name='wmType']").forEach((r) => {
        r.onchange = () => {
          clearError();
          const isText = r.value === "text";
          document.getElementById("textControls").style.display = isText
            ? "flex"
            : "none";
          document.getElementById("imageControls").style.display = isText
            ? "none"
            : "block";
          updatePreview();
        };
      });

      boldBtn.onclick = () => {
        watermarkData.bold = !watermarkData.bold;
        boldBtn.classList.toggle("active", watermarkData.bold);
        boldBtn.setAttribute("aria-pressed", watermarkData.bold);
        updatePreview();
      };

      italicBtn.onclick = () => {
        watermarkData.italic = !watermarkData.italic;
        italicBtn.classList.toggle("active", watermarkData.italic);
        italicBtn.setAttribute("aria-pressed", watermarkData.italic);
        updatePreview();
      };

      underlineBtn.onclick = () => {
        watermarkData.underline = !watermarkData.underline;
        underlineBtn.classList.toggle("active", watermarkData.underline);
        underlineBtn.setAttribute("aria-pressed", watermarkData.underline);
        updatePreview();
      };

      pdfUpload.onchange = (e) => {
        clearError();
        const newFiles = [...e.target.files];
        newFiles.forEach((f) => {
          if (!files.some((x) => x.name === f.name && x.size === f.size))
            files.push(f);
        });
        renderFileList();
        loadAllPDFs();
      };

      function renderFileList() {
        if (files.length === 0) {
          fileList.style.display = "none";
          pagesGrid.style.display = "none";
          wmOptions.style.display = "none";
          return;
        }
        fileList.style.display = "block";
        fileList.innerHTML = "";
        files.forEach((f, i) => {
          const li = document.createElement("li");
          li.innerHTML = `<i class="fa fa-file-pdf pdf-icon"></i> <span>${f.name}</span> <i class="fa fa-times delete-file" role="button" aria-label="Remove ${f.name}" tabindex="0"></i>`;
          li.querySelector(".delete-file").onclick = () => {
            files.splice(i, 1);
            pdfUpload.value = "";
            renderFileList();
            loadAllPDFs();
          };
          fileList.appendChild(li);
        });
      }

      async function loadAllPDFs() {
        pagesGrid.innerHTML = "";
        if (files.length === 0) return;

        pagesGrid.style.display = "flex";
        wmOptions.style.display = "block";
        totalPagesCount = 0;

        for (let file of files) {
          const pdf = await pdfjsLib.getDocument(URL.createObjectURL(file))
            .promise;

          for (let i = 1; i <= pdf.numPages; i++) {
            totalPagesCount++;
            const page = await pdf.getPage(i);

            const maxWidth =
              window.innerWidth < 768 ? window.innerWidth - 40 : 800;
            const viewport = page.getViewport({ scale: 1 });
            const displayScale = Math.min(maxWidth / viewport.width, 1);

            const renderScale = displayScale * (window.devicePixelRatio || 2);
            const scaledViewport = page.getViewport({ scale: renderScale });

            const canvas = document.createElement("canvas");
            canvas.width = scaledViewport.width;
            canvas.height = scaledViewport.height;

            await page.render({
              canvasContext: canvas.getContext("2d"),
              viewport: scaledViewport,
            }).promise;

            const card = document.createElement("div");
            card.className = "page-card";
            card.dataset.pageNum = totalPagesCount;
            card.dataset.scale = displayScale;
            card.dataset.baseWidth = viewport.width;
            card.setAttribute("role", "article");
            card.setAttribute("aria-label", `Page ${totalPagesCount}`);

            const badge = document.createElement("div");
            badge.className = "page-number-badge";
            badge.textContent = `Page ${totalPagesCount}`;
            badge.setAttribute("aria-hidden", "true");
            card.appendChild(badge);

            canvas.style.width = viewport.width * displayScale + "px";
            canvas.style.height = viewport.height * displayScale + "px";
            card.appendChild(canvas);

            const applyBtn = document.createElement("button");
            applyBtn.className = "page-apply-btn";
            applyBtn.innerHTML =
              '<i class="fa fa-clone" aria-hidden="true"></i> Apply to All';
            applyBtn.setAttribute(
              "aria-label",
              "Apply this watermark position to all pages",
            );
            applyBtn.onclick = () => applyThisPageToAll(card);
            card.appendChild(applyBtn);

            pagesGrid.appendChild(card);
          }
        }

        updatePageRangeDisplay();
        updatePreview();
      }

      function updatePageRangeDisplay() {
        const start = parseInt(pageStart.value) || 1;
        const end = parseInt(pageEnd.value) || totalPagesCount;
        const effectiveEnd =
          end === 0 ? totalPagesCount : Math.min(end, totalPagesCount);

        document.querySelectorAll(".page-card").forEach((card) => {
          const pageNum = parseInt(card.dataset.pageNum);
          if (pageNum < start || pageNum > effectiveEnd) {
            card.classList.add("out-of-range");
          } else {
            card.classList.remove("out-of-range");
          }
        });

        updatePreview();
      }

      function getPreviewFont(pdfFont) {
        const map = {
          Helvetica: "Arial, sans-serif",
          "Helvetica-Bold": "Arial Black, Arial, sans-serif",
          Courier: "Courier New, monospace",
          "Times-Roman": "Times New Roman, serif",
        };
        return map[pdfFont] || "Arial, sans-serif";
      }

      function getWatermarkDimensions(el) {
        const currentTransform = el.style.transform;
        el.style.transform = "translate(-50%, -50%)";

        const rect = el.getBoundingClientRect();
        const baseWidth = rect.width;
        const baseHeight = rect.height;

        el.style.transform = currentTransform;

        const rotationRad = ((parseFloat(rotation.value) || 0) * Math.PI) / 180;
        const cos = Math.abs(Math.cos(rotationRad));
        const sin = Math.abs(Math.sin(rotationRad));

        const rotatedWidth = baseWidth * cos + baseHeight * sin;
        const rotatedHeight = baseWidth * sin + baseHeight * cos;

        return {
          width: rotatedWidth,
          height: rotatedHeight,
          baseWidth: baseWidth,
          baseHeight: baseHeight,
        };
      }

      function updatePreview() {
        clearError();
        const type = document.querySelector(
          "input[name='wmType']:checked",
        ).value;

        document.querySelectorAll(".page-card").forEach((card) => {
          const old = card.querySelector(".watermark-preview");

          let storedLeft = null;
          let storedTop = null;
          let storedTransform = null;
          let storedCanvasLeft = null;
          let storedCanvasTop = null;

          if (old && (old.dataset.actualLeft || old.dataset.actualTop)) {
            storedLeft = old.dataset.actualLeft;
            storedTop = old.dataset.actualTop;
            storedTransform = old.style.transform;
            storedCanvasLeft = old.dataset.canvasLeft;
            storedCanvasTop = old.dataset.canvasTop;
          }

          if (old) old.remove();

          if (card.classList.contains("out-of-range")) return;

          const canvas = card.querySelector("canvas");
          const wm = document.createElement("div");
          wm.className = "watermark-preview";
          wm.style.opacity = opacity.value;
          const visualScale =
            canvas.offsetWidth / parseFloat(card.dataset.baseWidth);

          wm.style.fontSize = fontSize.value * visualScale + "px";

          const rotationValue = parseFloat(rotation.value) || 0;

          if (type === "image") {
            if (!wmImage.files[0]) return;
            wm.classList.add("has-image");
            const img = document.createElement("img");
            img.src = URL.createObjectURL(wmImage.files[0]);
            img.alt = "Watermark image";
            const baseImgWidth = card.dataset.imgWidth
              ? parseFloat(card.dataset.imgWidth)
              : 150;

            img.style.width = baseImgWidth * visualScale + "px";
            img.style.height = "auto";

            wm.appendChild(img);
          } else {
            wm.innerText = wmText.value;
            wm.style.color = textColor.value;
            wm.style.fontWeight = watermarkData.bold ? "bold" : "normal";
            wm.style.fontStyle = watermarkData.italic ? "italic" : "normal";
            wm.style.textDecoration = watermarkData.underline
              ? "underline"
              : "none";
            wm.style.fontFamily = getPreviewFont(fontFamily.value);
          }

          wm.style.position = "absolute";
          wm.style.left = "-9999px";
          wm.style.top = "-9999px";
          applyTransform(wm, false);
          card.appendChild(wm);

          const dims = getWatermarkDimensions(wm);
          const padding = 10;
          const canvasOffsetLeft = canvas.offsetLeft;
          const canvasOffsetTop = canvas.offsetTop;

          let left, top;

          if (storedLeft && storedTop) {
            left = parseFloat(storedLeft);
            top = parseFloat(storedTop);
            applyTransform(wm, position.value === "center");
            wm.dataset.actualLeft = storedLeft;
            wm.dataset.actualTop = storedTop;
            if (storedCanvasLeft) wm.dataset.canvasLeft = storedCanvasLeft;
            if (storedCanvasTop) wm.dataset.canvasTop = storedCanvasTop;
          } else {
            switch (position.value) {
              case "top-left":
                left = canvasOffsetLeft + padding;
                top = canvasOffsetTop + padding;
                applyTransform(wm, false);
                break;

              case "top-right":
                left =
                  canvasOffsetLeft + canvas.offsetWidth - dims.width - padding;
                top = canvasOffsetTop + padding;
                applyTransform(wm, false);
                break;

              case "bottom-left":
                left = canvasOffsetLeft + padding;
                top =
                  canvasOffsetTop + canvas.offsetHeight - dims.height - padding;
                applyTransform(wm, false);
                break;

              case "bottom-right":
                left =
                  canvasOffsetLeft + canvas.offsetWidth - dims.width - padding;
                top =
                  canvasOffsetTop + canvas.offsetHeight - dims.height - padding;
                applyTransform(wm, false);
                break;

              default:
                left = canvasOffsetLeft + canvas.offsetWidth / 2;
                top = canvasOffsetTop + canvas.offsetHeight / 2;
                applyTransform(wm, true);
            }
          }

          wm.style.left = left + "px";
          wm.style.top = top + "px";

          if (type === "image") {
            const handles = ["tl", "tr", "bl", "br"];
            handles.forEach((pos) => {
              const handle = document.createElement("div");
              handle.className = `resize-handle resize-handle-${pos}`;
              handle.setAttribute("role", "button");
              handle.setAttribute(
                "aria-label",
                `Resize watermark from ${pos} corner`,
              );
              wm.appendChild(handle);
              makeResizable(wm, wm.querySelector("img"), handle, pos, card);
            });
          }

          makeDraggable(wm, card);
        });
      }

      function makeDraggable(el, card) {
        el.addEventListener("pointerdown", (e) => {
          if (e.target.classList.contains("resize-handle")) return;

          e.preventDefault();
          el.setPointerCapture(e.pointerId);

          const canvas = card.querySelector("canvas");
          const canvasRect = canvas.getBoundingClientRect();
          const cardRect = card.getBoundingClientRect();
          const canvasOffsetLeft = canvasRect.left - cardRect.left;
          const canvasOffsetTop = canvasRect.top - cardRect.top;

          const startLeft = parseFloat(el.style.left) || 0;
          const startTop = parseFloat(el.style.top) || 0;
          const startX = e.clientX;
          const startY = e.clientY;

          function move(ev) {
            const deltaX = ev.clientX - startX;
            const deltaY = ev.clientY - startY;

            let centerX = startLeft + deltaX;
            let centerY = startTop + deltaY;

            let canvasRelativeCenterX = centerX - canvasOffsetLeft;
            let canvasRelativeCenterY = centerY - canvasOffsetTop;

            el.style.left = centerX + "px";
            el.style.top = centerY + "px";

            applyTransform(el, position.value === "center");

            el.dataset.actualLeft = centerX;
            el.dataset.actualTop = centerY;
            el.dataset.canvasLeft = canvasRelativeCenterX;
            el.dataset.canvasTop = canvasRelativeCenterY;

            const dims = getWatermarkDimensions(el);
            el.dataset.wmWidth = dims.width;
            el.dataset.wmHeight = dims.height;
            el.dataset.wmBaseWidth = dims.baseWidth;
            el.dataset.wmBaseHeight = dims.baseHeight;

            showApplyButton(card);
          }

          function up(ev) {
            el.releasePointerCapture(ev.pointerId);
            el.removeEventListener("pointermove", move);
            el.removeEventListener("pointerup", up);
          }

          el.addEventListener("pointermove", move);
          el.addEventListener("pointerup", up);
        });
      }

      function makeResizable(el, img, handle, position, card) {
        handle.addEventListener("pointerdown", (e) => {
          e.preventDefault();
          e.stopPropagation();

          handle.setPointerCapture(e.pointerId);

          const startWidth = img.offsetWidth;
          const startX = e.clientX;
          const aspectRatio = img.offsetHeight / startWidth;

          const canvas = card.querySelector("canvas");
          const visualScale =
            canvas.offsetWidth / parseFloat(card.dataset.baseWidth);

          const baseWidth =
            parseFloat(card.dataset.imgWidth) || startWidth / visualScale;

          function move(ev) {
            let diffX = ev.clientX - startX;
            let diff = position === "br" || position === "tr" ? diffX : -diffX;

            let newBaseWidth = baseWidth + diff / visualScale;
            newBaseWidth = Math.max(50, Math.min(400, newBaseWidth));

            const newWidth = newBaseWidth * visualScale;
            img.style.width = newWidth + "px";
            img.style.height = newWidth * aspectRatio + "px";

            card.dataset.imgWidth = newBaseWidth;

            const dims = getWatermarkDimensions(el);
            el.dataset.wmWidth = dims.width;
            el.dataset.wmHeight = dims.height;
            el.dataset.wmBaseWidth = dims.baseWidth;
            el.dataset.wmBaseHeight = dims.baseHeight;

            showApplyButton(card);
          }

          function up(ev) {
            handle.releasePointerCapture(ev.pointerId);
            handle.removeEventListener("pointermove", move);
            handle.removeEventListener("pointerup", up);
          }

          handle.addEventListener("pointermove", move);
          handle.addEventListener("pointerup", up);
        });
      }

      function showApplyButton(card) {
        const applyBtn = card.querySelector(".page-apply-btn");
        if (applyBtn) {
          applyBtn.classList.add("show");
        }
      }

      function applyThisPageToAll(sourceCard) {
        const sourceWm = sourceCard.querySelector(".watermark-preview");
        if (!sourceWm) return;

        const refLeft = sourceWm.dataset.actualLeft
          ? sourceWm.dataset.actualLeft + "px"
          : sourceWm.style.left;
        const refTop = sourceWm.dataset.actualTop
          ? sourceWm.dataset.actualTop + "px"
          : sourceWm.style.top;
        const refTransform = sourceWm.style.transform;

        let refWidth = null;
        let refHeight = null;
        const refImg = sourceWm.querySelector("img");
        if (refImg) {
          refWidth = refImg.style.width;
          refHeight = refImg.style.height;
        }

        document.querySelectorAll(".page-card").forEach((card) => {
          if (card.classList.contains("out-of-range")) return;
          if (card === sourceCard) return;

          const wm = card.querySelector(".watermark-preview");
          if (wm) {
            wm.style.left = refLeft;
            wm.style.top = refTop;
            wm.style.transform = refTransform;

            if (sourceWm.dataset.actualLeft)
              wm.dataset.actualLeft = sourceWm.dataset.actualLeft;
            if (sourceWm.dataset.actualTop)
              wm.dataset.actualTop = sourceWm.dataset.actualTop;
            if (sourceWm.dataset.canvasLeft)
              wm.dataset.canvasLeft = sourceWm.dataset.canvasLeft;
            if (sourceWm.dataset.canvasTop)
              wm.dataset.canvasTop = sourceWm.dataset.canvasTop;
            if (sourceWm.dataset.wmWidth)
              wm.dataset.wmWidth = sourceWm.dataset.wmWidth;
            if (sourceWm.dataset.wmHeight)
              wm.dataset.wmHeight = sourceWm.dataset.wmHeight;
            if (sourceWm.dataset.wmBaseWidth)
              wm.dataset.wmBaseWidth = sourceWm.dataset.wmBaseWidth;
            if (sourceWm.dataset.wmBaseHeight)
              wm.dataset.wmBaseHeight = sourceWm.dataset.wmBaseHeight;

            if (refWidth) {
              const img = wm.querySelector("img");
              if (img) {
                img.style.width = refWidth;
                if (refHeight) img.style.height = refHeight;
              }
            }

            if (sourceCard.dataset.imgWidth) {
              card.dataset.imgWidth = sourceCard.dataset.imgWidth;
              card.dataset.imgHeight = sourceCard.dataset.imgHeight;
            }
          }

          const applyBtn = card.querySelector(".page-apply-btn");
          if (applyBtn) {
            applyBtn.classList.remove("show");
          }
        });

        const sourceApplyBtn = sourceCard.querySelector(".page-apply-btn");
        if (sourceApplyBtn) {
          sourceApplyBtn.classList.remove("show");
        }

        showSuccess("‚úì Applied to all pages in range!");
      }

      const debouncedUpdatePreview = debounce(updatePreview, 100);

      fontSize.addEventListener("input", debouncedUpdatePreview);
      opacity.addEventListener("input", debouncedUpdatePreview);
      rotation.addEventListener("input", debouncedUpdatePreview);

      wmText.addEventListener("input", updatePreview);
      position.addEventListener("change", () => {
        document.querySelectorAll(".watermark-preview").forEach((wm) => {
          delete wm.dataset.actualLeft;
          delete wm.dataset.actualTop;
          delete wm.dataset.canvasLeft;
          delete wm.dataset.canvasTop;
        });
        updatePreview();
      });

      fontFamily.addEventListener("change", updatePreview);

      pageStart.addEventListener(
        "input",
        debounce(updatePageRangeDisplay, 100),
      );
      pageEnd.addEventListener("input", debounce(updatePageRangeDisplay, 100));

      wmImage.addEventListener("change", updatePreview);

      watermarkBtn.onclick = async () => {
        clearError();

        if (files.length === 0) {
          showError("Please upload at least one PDF file first!");
          return;
        }

        const type = document.querySelector(
          "input[name='wmType']:checked",
        ).value;

        if (type === "text" && !wmText.value.trim()) {
          showError("Please enter watermark text!");
          return;
        }

        if (type === "image" && !wmImage.files[0]) {
          showError("Please select a watermark image!");
          return;
        }

        const pages = [];
        document.querySelectorAll(".page-card").forEach((card) => {
          const wm = card.querySelector(".watermark-preview");
          if (!wm) return;

          const canvas = card.querySelector("canvas");
          const canvasWidth = canvas.offsetWidth;
          const canvasHeight = canvas.offsetHeight;

          const canvasRect = canvas.getBoundingClientRect();
          const cardRect = card.getBoundingClientRect();
          const canvasOffsetLeft = canvasRect.left - cardRect.left;
          const canvasOffsetTop = canvasRect.top - cardRect.top;

          const dims = getWatermarkDimensions(wm);
          const wmWidth = dims.width;
          const wmHeight = dims.height;

          let canvasRelativeX, canvasRelativeY;

          const isCenterTransform = wm.style.transform.includes(
            "translate(-50%, -50%)",
          );

          if (wm.dataset.actualLeft && wm.dataset.actualTop) {
            const cardRelativeLeft = parseFloat(wm.dataset.actualLeft);
            const cardRelativeTop = parseFloat(wm.dataset.actualTop);

            canvasRelativeX = cardRelativeLeft - canvasOffsetLeft;
            canvasRelativeY = cardRelativeTop - canvasOffsetTop;

            if (!isCenterTransform) {
              canvasRelativeX += wmWidth / 2;
              canvasRelativeY += wmHeight / 2;
            }
          } else {
            const cardRelativeLeft = parseFloat(wm.style.left);
            const cardRelativeTop = parseFloat(wm.style.top);

            canvasRelativeX = cardRelativeLeft - canvasOffsetLeft;
            canvasRelativeY = cardRelativeTop - canvasOffsetTop;

            if (!isCenterTransform) {
              canvasRelativeX += wmWidth / 2;
              canvasRelativeY += wmHeight / 2;
            }
          }

          const leftPercent = (canvasRelativeX / canvasWidth) * 100;
          const topPercent = (canvasRelativeY / canvasHeight) * 100;

          let alignment = "center";
          switch (position.value) {
            case "top-left":
            case "bottom-left":
              alignment = "left";
              break;
            case "top-right":
            case "bottom-right":
              alignment = "right";
              break;
            default:
              alignment = "center";
          }

          const pageData = {
            pageNum: parseInt(card.dataset.pageNum),
            left: leftPercent + "%",
            top: topPercent + "%",
            rotation: -parseFloat(rotation.value),
            position: alignment,
          };

          if (type === "image") {
            const img = wm.querySelector("img");
            if (img) {
              const imgWidthPercent = (img.offsetWidth / canvasWidth) * 100;
              pageData.widthPercent = imgWidthPercent;
            }
          }

          pages.push(pageData);
        });

        const formData = new FormData();
        files.forEach((f) => formData.append("files", f));

        formData.append("type", type);
        formData.append("text", wmText.value);
        formData.append("fontSize", fontSize.value);
        formData.append("opacity", opacity.value);
        formData.append("rotation", rotation.value);
        formData.append("fontFamily", fontFamily.value);
        formData.append("color", textColor.value);
        formData.append("bold", watermarkData.bold);
        formData.append("italic", watermarkData.italic);
        formData.append("underline", watermarkData.underline);
        formData.append("pageStart", pageStart.value);
        formData.append("pageEnd", pageEnd.value);
        formData.append("positions", JSON.stringify(pages));

        if (type === "image") {
          formData.append("image", wmImage.files[0]);
        }

        watermarkBtn.disabled = true;
        watermarkBtn.classList.add("btn-loading");
        watermarkBtn.querySelector(".btn-spinner").style.display =
          "inline-block";
        watermarkBtn.querySelector(".btn-text").style.display = "none";

        try {
          const res = await fetch(BACKEND_URL, {
            method: "POST",
            body: formData,
          });

          if (!res.ok) throw new Error("Failed to add watermark");

          const blob = await res.blob();
          const url = URL.createObjectURL(blob);

          downloadBtn.href = url;
          downloadBtn.download = "watermarked.pdf";
          shareBtn.href = url;

          uploadSection.style.display = "none";
          fileList.style.display = "none";
          pagesGrid.style.display = "none";
          wmOptions.style.display = "none";
          watermarkBtn.style.display = "none";
          errorMsg.style.display = "none";
          document.querySelector(".note-box").style.display = "none";
          resultBtns.style.display = "block";

          const isSmallDevice = window.matchMedia("(max-width: 768px)").matches;

          if (!isSmallDevice) {
            pdfFrame.src = url;
            pdfPreview.style.display = "block";
          }

          fileNameLink.onclick = (e) => {
            e.preventDefault();
            isSmallDevice
              ? window.open(url, "_blank")
              : pdfPreview.scrollIntoView({ behavior: "smooth" });
          };
          window.scrollTo({ top: 0, behavior: "smooth" });
        } catch (error) {
          showError("Error: " + error.message);
        } finally {
          watermarkBtn.disabled = false;
          watermarkBtn.classList.remove("btn-loading");
          watermarkBtn.querySelector(".btn-spinner").style.display = "none";
          watermarkBtn.querySelector(".btn-text").style.display =
            "inline-block";
        }
      };

      resetBtn.onclick = () => {
        clearError();
        successMsg.classList.remove("show");
        files = [];
        totalPagesCount = 0;
        pdfUpload.value = "";
        uploadSection.style.display = "block";
        fileList.innerHTML = "";
        fileList.style.display = "none";
        pagesGrid.innerHTML = "";
        pagesGrid.style.display = "none";
        wmOptions.style.display = "none";
        watermarkBtn.style.display = "inline-flex";
        watermarkBtn.disabled = false;
        resultBtns.style.display = "none";
        document.querySelector(".note-box").style.display = "block";

        wmText.value = "";
        fontSize.value = 36;
        opacity.value = 0.3;
        rotation.value = 0;
        position.value = "center";
        fontFamily.value = "Helvetica";
        pageStart.value = 1;
        pageEnd.value = 0;
        textColor.value = "#000000";
        textColorHex.value = "#000000";
        watermarkData = { bold: false, italic: false, underline: false };
        boldBtn.classList.remove("active");
        italicBtn.classList.remove("active");
        underlineBtn.classList.remove("active");
        boldBtn.setAttribute("aria-pressed", "false");
        italicBtn.setAttribute("aria-pressed", "false");
        underlineBtn.setAttribute("aria-pressed", "false");

        wmImage.value = "";

        document.querySelector("input[name='wmType'][value='text']").checked =
          true;
        document.getElementById("textControls").style.display = "flex";
        document.getElementById("imageControls").style.display = "none";

        pdfFrame.src = "";
        pdfPreview.style.display = "none";
        window.scrollTo({ top: 0, behavior: "smooth" });
      };
    </script>
  </body>
</html>
