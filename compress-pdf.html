<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Primary Meta Tags -->
    <title>Compress PDF Online Free - Reduce PDF File Size | NextoPDF</title>
    <meta
      name="title"
      content="Compress PDF Online Free - Reduce PDF File Size | NextoPDF"
    />
    <meta
      name="description"
      content="Compress PDF files online for free. Reduce PDF size up to 80% while maintaining quality. Fast, secure, no registration required. Perfect for email attachments and web uploads."
    />
    <meta
      name="keywords"
      content="compress PDF online free, reduce PDF size, PDF compressor, compress PDF file, shrink PDF, optimize PDF, make PDF smaller, PDF size reducer, compress large PDF"
    />
    <meta name="author" content="NextoPDF" />
    <meta
      name="robots"
      content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"
    />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://nextopdf.com/compress-pdf" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://nextopdf.com/compress-pdf" />
    <meta
      property="og:title"
      content="Compress PDF Online Free - Reduce PDF File Size | NextoPDF"
    />
    <meta
      property="og:description"
      content="Compress PDF files online for free. Reduce PDF size up to 80% while maintaining quality. Fast, secure, no registration required."
    />
    <meta
      property="og:image"
      content="https://nextopdf.com/images/og-image.png"
    />
    <meta property="og:site_name" content="NextoPDF" />
    <meta property="og:locale" content="en_US" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://nextopdf.com/compress-pdf" />
    <meta
      name="twitter:title"
      content="Compress PDF Online Free - Reduce PDF File Size | NextoPDF"
    />
    <meta
      name="twitter:description"
      content="Compress PDF files online for free. Reduce PDF size up to 80% while maintaining quality. Fast, secure, no registration required."
    />
    <meta
      name="twitter:image"
      content="https://nextopdf.com/images/twitter-card.png"
    />
    <meta name="google-adsense-account" content="ca-pub-5797619165090350">

    <!-- Structured Data / Schema.org -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "NextoPDF - Compress PDF",
        "url": "https://nextopdf.com/compress-pdf",
        "description": "Free online PDF compression tool to reduce PDF file size while maintaining quality",
        "applicationCategory": "UtilitiesApplication",
        "operatingSystem": "Any",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        },
        "featureList": "Compress PDF, Reduce file size, Optimize images, Batch compression, No registration required"
      }
    </script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&family=Inter:wght@400;500&display=swap"
      rel="stylesheet"
    />

    <!-- Font Awesome for icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <!-- Main CSS -->
    <link rel="stylesheet" href="./css/style.css" />

    <!-- Favicon -->
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./images/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="./images/favicon-16x16.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="./images/apple-touch-icon.png"
    />

    <!-- Google AdSense (Replace with your AdSense ID) -->
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5797619165090350"
      crossorigin="anonymous"
    ></script>
  </head>

  <body>
    <section id="header-placeholder"></section>

    <!-- ================= COMPRESS TOOL ================= -->
    <section class="merge-tool">
      <div class="container">
        <h1>Compress PDF File Online - Free PDF Compressor</h1>
        <p>
          Reduce PDF file size up to 80% while maintaining quality. Fast,
          secure, and completely free.
        </p>

        <div class="upload-section">
          <!-- Upload -->
          <div id="uploadSection">
            <label class="upload-label">
              <i class="fa fa-upload"></i> Choose PDF file
              <input type="file" id="pdfUpload" accept=".pdf" hidden />
            </label>
          </div>

          <!-- File list with delete option -->
          <ul id="fileList" class="file-list" style="display: none"></ul>

          <!-- Compress button -->
          <button id="compressBtn" class="cta-button">
            <i class="fa fa-spinner fa-spin" style="display: none"></i>
            Compress PDF
          </button>

          <!-- Error -->
          <p id="errorMsg" class="error-text" style="display: none"></p>

          <!-- Note -->
          <p id="noteText" class="note" style="margin-top: 10px">
            Supported format: PDF. Files larger than 20MB are processed on the
            server.
          </p>

          <!-- Result -->
          <div id="resultBtns" style="display: none; margin-top: 20px">
            <div id="resultCard" class="result-card">
              <i class="fa fa-file-pdf"></i>
            </div>

            <!-- File Name -->
            <p class="file-name">
              <a href="#" id="fileNameLink">compressed.pdf</a>
            </p>

            <!-- Compression Info -->
            <div id="compressionInfo" class="result-info" style="display: none">
              <p>
                <strong>Original Size:</strong> <span id="originalSize">-</span>
              </p>
              <p>
                <strong>Compressed Size:</strong>
                <span id="compressedSize">-</span>
              </p>
              <p>
                <strong>Size Reduced:</strong>
                <span id="reductionPercent" class="size-badge">-</span>
              </p>
            </div>

            <a id="downloadBtn" class="cta-button">
              <i class="fa fa-download"></i> Download Compressed PDF
            </a>
            <button id="resetBtn" class="secondary-btn">
              <i class="fa fa-rotate-right"></i> Compress Another PDF
            </button>
          </div>
        </div>

        <!-- PDF Preview -->
        <div id="pdfPreview" style="display: none; margin-top: 30px">
          <h4>Preview Compressed PDF</h4>
          <iframe
            id="pdfFrame"
            width="100%"
            height="600"
            style="border-radius: 12px; border: 1px solid #e5e7eb"
          ></iframe>
        </div>
      </div>
    </section>

    <!-- How to Compress PDF Section -->
    <section class="benefits" style="background: white">
      <div class="container">
        <h2>How to Compress PDF Files Online</h2>
        <div class="feature-grid">
          <div class="feature-card">
            <div
              style="
                font-size: 48px;
                color: #fbbf24;
                font-weight: bold;
                margin-bottom: 10px;
              "
            >
              1
            </div>
            <h3>Upload Your PDF</h3>
            <p>
              Click the upload button or drag and drop your PDF file. No file
              size limits for most documents.
            </p>
          </div>
          <div class="feature-card">
            <div
              style="
                font-size: 48px;
                color: #fbbf24;
                font-weight: bold;
                margin-bottom: 10px;
              "
            >
              2
            </div>
            <h3>Automatic Compression</h3>
            <p>
              Our tool automatically optimizes images and removes redundant data
              while maintaining quality.
            </p>
          </div>
          <div class="feature-card">
            <div
              style="
                font-size: 48px;
                color: #fbbf24;
                font-weight: bold;
                margin-bottom: 10px;
              "
            >
              3
            </div>
            <h3>Download Result</h3>
            <p>
              Download your compressed PDF instantly. See exactly how much space
              you saved.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Why Compress PDFs Section -->
    <section class="features" style="background: #f9fafb">
      <div class="container">
        <h2>Why Compress PDF Files?</h2>
        <div style="max-width: 900px; margin: 0 auto; text-align: left">
          <p style="color: #555; line-height: 1.8; margin-bottom: 30px">
            PDF compression is essential in today's digital workflow. Large PDF
            files can cause numerous problems, from failed email attachments to
            slow website loading times. Our free PDF compressor solves these
            issues by reducing file size while preserving document quality.
          </p>

          <h3 style="color: #1e3a8a; margin-bottom: 15px; margin-top: 35px">
            Common Reasons to Compress PDFs
          </h3>
          <p style="color: #555; line-height: 1.8; margin-bottom: 15px">
            There are many situations where compressing a PDF file becomes
            necessary:
          </p>
          <ul
            style="
              color: #555;
              line-height: 1.8;
              margin-bottom: 25px;
              padding-left: 25px;
            "
          >
            <li style="margin-bottom: 10px">
              <strong>Email Attachments:</strong> Most email providers limit
              attachment sizes to 10-25MB. Compressed PDFs are more likely to
              send successfully and arrive faster.
            </li>
            <li style="margin-bottom: 10px">
              <strong>Website Upload:</strong> Many online forms, job
              applications, and document portals have strict file size limits.
              Compression ensures your files meet these requirements.
            </li>
            <li style="margin-bottom: 10px">
              <strong>Storage Optimization:</strong> Compressed PDFs take up
              less space on your device or cloud storage, allowing you to store
              more documents efficiently.
            </li>
            <li style="margin-bottom: 10px">
              <strong>Faster Downloads:</strong> Smaller files download quicker,
              improving user experience when sharing documents with colleagues
              or clients.
            </li>
            <li style="margin-bottom: 10px">
              <strong>Mobile Viewing:</strong> Compressed PDFs load faster on
              mobile devices with limited bandwidth or slower internet
              connections.
            </li>
          </ul>

          <h3 style="color: #1e3a8a; margin-bottom: 15px; margin-top: 35px">
            How PDF Compression Works
          </h3>
          <p style="color: #555; line-height: 1.8; margin-bottom: 25px">
            PDF compression uses intelligent algorithms to reduce file size
            without significantly affecting quality. The process typically
            involves image optimization (reducing resolution and applying
            efficient compression), removing duplicate or redundant elements,
            optimizing fonts and embedded data, and streamlining the PDF
            structure. Our tool analyzes your document and applies the most
            effective compression methods automatically.
          </p>

          <h3 style="color: #1e3a8a; margin-bottom: 15px; margin-top: 35px">
            Quality vs. File Size
          </h3>
          <p style="color: #555; line-height: 1.8; margin-bottom: 25px">
            One common concern about PDF compression is quality loss. Our
            compressor is designed to find the optimal balance between file size
            reduction and visual quality. For most business documents,
            presentations, and reports, you can achieve 50-80% size reduction
            with minimal perceptible quality difference. Text remains sharp and
            readable, while images are optimized intelligently based on their
            content and resolution.
          </p>

          <h3 style="color: #1e3a8a; margin-bottom: 15px; margin-top: 35px">
            When to Use Maximum Compression
          </h3>
          <p style="color: #555; line-height: 1.8; margin-bottom: 25px">
            Maximum compression is ideal for documents that will be viewed on
            screen rather than printed, internal documents where perfect quality
            isn't critical, archival purposes where storage space is limited, or
            documents with mostly text and few images. For high-quality printing
            or professional presentations, lighter compression may be more
            appropriate.
          </p>
        </div>
      </div>
    </section>

    <!-- Benefits Section -->
    <section class="benefits" style="padding-top: 60px">
      <div class="container">
        <h2>Why Use NextoPDF PDF Compressor?</h2>
        <div class="feature-grid">
          <div class="feature-card">
            <i
              class="fas fa-shield-alt"
              style="font-size: 40px; color: #10b981; margin-bottom: 15px"
            ></i>
            <h3>100% Secure & Private</h3>
            <p>
              Your files are processed securely and automatically deleted after
              compression. We never access or store your documents.
            </p>
          </div>
          <div class="feature-card">
            <i
              class="fas fa-dollar-sign"
              style="font-size: 40px; color: #10b981; margin-bottom: 15px"
            ></i>
            <h3>Completely Free</h3>
            <p>
              No subscriptions, no hidden fees, no premium versions. Compress
              unlimited PDF files at no cost.
            </p>
          </div>
          <div class="feature-card">
            <i
              class="fas fa-bolt"
              style="font-size: 40px; color: #10b981; margin-bottom: 15px"
            ></i>
            <h3>Fast Compression</h3>
            <p>
              Advanced algorithms provide quick compression without compromising
              quality. Get results in seconds.
            </p>
          </div>
          <div class="feature-card">
            <i
              class="fas fa-check-circle"
              style="font-size: 40px; color: #10b981; margin-bottom: 15px"
            ></i>
            <h3>Maintain Quality</h3>
            <p>
              Our compression technology reduces file size while preserving
              document clarity and readability.
            </p>
          </div>
          <div class="feature-card">
            <i
              class="fas fa-user-lock"
              style="font-size: 40px; color: #10b981; margin-bottom: 15px"
            ></i>
            <h3>No Registration</h3>
            <p>
              Start compressing immediately without creating an account or
              providing personal information.
            </p>
          </div>
          <div class="feature-card">
            <i
              class="fas fa-desktop"
              style="font-size: 40px; color: #10b981; margin-bottom: 15px"
            ></i>
            <h3>Works Everywhere</h3>
            <p>
              Compatible with all devices and operating systems. Compress PDFs
              on Windows, Mac, Linux, iOS, or Android.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Tips Section -->
    <section class="features" style="background: white">
      <div class="container">
        <h2>PDF Compression Tips and Best Practices</h2>
        <div style="max-width: 900px; margin: 0 auto; text-align: left">
          <div style="margin-bottom: 40px">
            <h3 style="color: #1e3a8a; margin-bottom: 15px">
              Preparing Files for Compression
            </h3>
            <p style="color: #555; line-height: 1.8; margin-bottom: 15px">
              To get the best compression results, start with properly formatted
              source documents. When creating PDFs from Word, PowerPoint, or
              other applications, avoid using unnecessarily high-resolution
              images. Most screen viewing only requires 150 DPI, while 300 DPI
              is sufficient for printing.
            </p>
            <p style="color: #555; line-height: 1.8">
              Before compression, remove any unnecessary pages, embedded
              objects, or metadata. This pre-optimization can significantly
              enhance compression effectiveness.
            </p>
          </div>

          <div style="margin-bottom: 40px">
            <h3 style="color: #1e3a8a; margin-bottom: 15px">
              Understanding Compression Results
            </h3>
            <p style="color: #555; line-height: 1.8; margin-bottom: 15px">
              After compression, you'll see statistics showing original size,
              compressed size, and percentage reduced. These numbers help you
              understand the effectiveness of compression for your specific
              document type.
            </p>
            <p style="color: #555; line-height: 1.8">
              Documents with many images typically compress more effectively
              than text-only PDFs. Scanned documents often see the most dramatic
              size reductions since they contain high-resolution images that can
              be optimized significantly.
            </p>
          </div>

          <div style="margin-bottom: 40px">
            <h3 style="color: #1e3a8a; margin-bottom: 15px">
              Multiple Compression Passes
            </h3>
            <p style="color: #555; line-height: 1.8; margin-bottom: 15px">
              If a PDF is still too large after one compression, you can
              compress it again. However, each additional compression may result
              in diminishing returns and potential quality degradation.
              Generally, one or two compression passes are sufficient for most
              needs.
            </p>
            <p style="color: #555; line-height: 1.8">
              For extremely large files, consider splitting the PDF into
              multiple smaller documents before compression, especially if
              different sections serve different purposes.
            </p>
          </div>

          <div style="margin-bottom: 40px">
            <h3 style="color: #1e3a8a; margin-bottom: 15px">
              File Size Expectations
            </h3>
            <p style="color: #555; line-height: 1.8">
              Compression effectiveness varies by document type. Image-heavy
              documents (presentations, brochures, photo albums) often compress
              by 60-80%. Text-heavy documents (contracts, reports, articles)
              typically compress by 20-40%. Mixed content documents usually fall
              somewhere in between. Already optimized or previously compressed
              PDFs may not compress much further.
            </p>
          </div>

          <div style="margin-bottom: 40px">
            <h3 style="color: #1e3a8a; margin-bottom: 15px">
              Compression for Different Use Cases
            </h3>
            <p style="color: #555; line-height: 1.8; margin-bottom: 15px">
              Choose your compression approach based on how the PDF will be
              used:
            </p>
            <ul
              style="
                color: #555;
                line-height: 1.8;
                margin-bottom: 15px;
                padding-left: 25px;
              "
            >
              <li style="margin-bottom: 10px">
                <strong>Email attachments:</strong> Aggressive compression is
                acceptable since recipients typically view on screen.
              </li>
              <li style="margin-bottom: 10px">
                <strong>Website downloads:</strong> Balance between file size
                and quality for fast loading without sacrificing readability.
              </li>
              <li style="margin-bottom: 10px">
                <strong>Professional printing:</strong> Use lighter compression
                to preserve maximum quality.
              </li>
              <li style="margin-bottom: 10px">
                <strong>Long-term archival:</strong> Consider moderate
                compression to save space while maintaining accessibility.
              </li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section class="features" style="background: #f9fafb">
      <div class="container">
        <h2>Frequently Asked Questions About PDF Compression</h2>
        <div style="max-width: 800px; margin: 0 auto; text-align: left">
          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              Is PDF compression really free?
            </h3>
            <p style="color: #555; line-height: 1.8">
              Yes, our PDF compression tool is completely free with no
              limitations. You can compress unlimited files without any charges,
              subscriptions, or hidden fees.
            </p>
          </div>

          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              Will compressing a PDF reduce quality?
            </h3>
            <p style="color: #555; line-height: 1.8">
              Our compression algorithm is designed to minimize quality loss.
              For most documents, the difference is barely noticeable,
              especially when viewed on screen. Text remains crisp and clear,
              while images are intelligently optimized.
            </p>
          </div>

          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              How much can I reduce PDF file size?
            </h3>
            <p style="color: #555; line-height: 1.8">
              Compression effectiveness depends on the original document. PDFs
              with many high-resolution images can be reduced by 60-80%, while
              text-heavy documents typically see 20-40% reduction. Documents
              already optimized may compress less.
            </p>
          </div>

          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              Is there a file size limit for compression?
            </h3>
            <p style="color: #555; line-height: 1.8">
              Files under 20MB are processed directly in your browser for
              maximum security. Larger files are processed on our server but are
              automatically deleted immediately after compression.
            </p>
          </div>

          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              Are my files safe and private?
            </h3>
            <p style="color: #555; line-height: 1.8">
              Absolutely. Smaller files are processed locally in your browser
              without uploading. For larger files processed on our server,
              they're encrypted during transfer and permanently deleted
              immediately after compression. We never store, access, or share
              your documents.
            </p>
          </div>

          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              Can I compress password-protected PDFs?
            </h3>
            <p style="color: #555; line-height: 1.8">
              Password-protected PDFs need to be unlocked before compression.
              You can use our Unlock PDF tool to remove protection if you have
              the password, then compress the file.
            </p>
          </div>

          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              How long does compression take?
            </h3>
            <p style="color: #555; line-height: 1.8">
              Most PDFs are compressed in just a few seconds. Processing time
              depends on file size and complexity, but our optimized algorithms
              ensure fast results even for large documents.
            </p>
          </div>

          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              Can I compress multiple PDFs at once?
            </h3>
            <p style="color: #555; line-height: 1.8">
              Currently, you can compress one PDF at a time. However, there's no
              limit to how many files you can compress consecutively. Simply
              process each file and download the results.
            </p>
          </div>

          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              Does compression work on scanned PDFs?
            </h3>
            <p style="color: #555; line-height: 1.8">
              Yes, scanned PDFs often benefit most from compression since they
              typically contain large, high-resolution images. You can expect
              significant file size reduction for scanned documents.
            </p>
          </div>

          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              Will compression affect PDF formatting?
            </h3>
            <p style="color: #555; line-height: 1.8">
              No, compression only reduces file size by optimizing images and
              removing redundant data. Your PDF's layout, fonts, links, and
              formatting remain completely intact.
            </p>
          </div>

          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              Can I compress an already compressed PDF?
            </h3>
            <p style="color: #555; line-height: 1.8">
              You can, but effectiveness will be limited. PDFs that have been
              previously compressed have less redundant data to remove. Each
              additional compression may yield diminishing returns.
            </p>
          </div>

          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              Do I need to install any software?
            </h3>
            <p style="color: #555; line-height: 1.8">
              No installation required. Our compression tool works entirely in
              your web browser. Just upload your PDF and download the compressed
              result - it's that simple.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Related Tools Section -->
    <section class="benefits" style="background: white; padding-top: 60px">
      <div class="container">
        <h2>Other Useful PDF Tools</h2>
        <div class="feature-grid">
          <div class="feature-card">
            <i
              class="fas fa-object-group"
              style="font-size: 40px; color: #4f46e5; margin-bottom: 15px"
            ></i>
            <h3>Merge PDF</h3>
            <p>
              Combine multiple PDF files into a single document for easier
              sharing and organization.
            </p>
            <a
              href="/merge"
              class="cta-button"
              style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
              >Use Tool</a
            >
          </div>
          <div class="feature-card">
            <i
              class="fas fa-cut"
              style="font-size: 40px; color: #4f46e5; margin-bottom: 15px"
            ></i>
            <h3>Split PDF</h3>
            <p>
              Divide large PDFs into smaller files or extract specific pages
              from your documents.
            </p>
            <a
              href="/split"
              class="cta-button"
              style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
              >Use Tool</a
            >
          </div>
          <div class="feature-card">
            <i
              class="fas fa-images"
              style="font-size: 40px; color: #10b981; margin-bottom: 15px"
            ></i>
            <h3>Image to PDF</h3>
            <p>
              Convert JPG, PNG, and other image formats to PDF documents quickly
              and easily.
            </p>
            <a
              href="/image-to-pdf"
              class="cta-button"
              style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
              >Use Tool</a
            >
          </div>
          <div class="feature-card">
            <i
              class="fas fa-file-alt"
              style="font-size: 40px; color: #f59e0b; margin-bottom: 15px"
            ></i>
            <h3>OCR PDF</h3>
            <p>
              Extract text from scanned PDFs and images using optical character
              recognition technology.
            </p>
            <a
              href="/ocr_pdf"
              class="cta-button"
              style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
              >Use Tool</a
            >
          </div>
          <div class="feature-card">
            <i
              class="fas fa-lock"
              style="font-size: 40px; color: #f59e0b; margin-bottom: 15px"
            ></i>
            <h3>Protect PDF</h3>
            <p>
              Add password protection to your PDF files to prevent unauthorized
              access.
            </p>
            <a
              href="/protect-pdf"
              class="cta-button"
              style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
              >Use Tool</a
            >
          </div>
          <div class="feature-card">
            <i
              class="fas fa-sync-alt"
              style="font-size: 40px; color: #4f46e5; margin-bottom: 15px"
            ></i>
            <h3>Rotate PDF</h3>
            <p>
              Rotate PDF pages to correct orientation for scanned or improperly
              aligned documents.
            </p>
            <a
              href="/rotate"
              class="cta-button"
              style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
              >Use Tool</a
            >
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section class="hero" >
      <div class="container">
        <h2 style="font-size: 32px; margin-bottom: 15px">
          Ready to Compress Your PDF?
        </h2>
        <p style="margin-bottom: 25px">
          Reduce file size instantly with our free online PDF compressor. No
          registration, no limits.
        </p>
        <a
          href="#"
          class="cta-button"
          onclick="
            window.scrollTo({ top: 0, behavior: 'smooth' });
            return false;
          "
        >
          <i class="fas fa-compress"></i> Start Compressing Now
        </a>
      </div>
    </section>

    <section id="footer-placeholder"></section>

    <script src="./js/app.js"></script>
    <!-- ================= SCRIPT ================= -->
    <script>
      const BACKEND_COMPRESS_URL = `${BACKEND_BASE_URL}/compress-pdf/`;
      const pdfInput = document.getElementById("pdfUpload");
      const compressBtn = document.getElementById("compressBtn");
      const loader = compressBtn.querySelector(".fa-spinner");
      const resultSection = document.getElementById("resultBtns");
      const downloadBtn = document.getElementById("downloadBtn");
      const resetBtn = document.getElementById("resetBtn");
      const noteText = document.getElementById("noteText");
      const fileList = document.getElementById("fileList");
      const errorMsg = document.getElementById("errorMsg");
      const uploadSection = document.getElementById("uploadSection");
      const compressionInfo = document.getElementById("compressionInfo");
      const originalSizeEl = document.getElementById("originalSize");
      const compressedSizeEl = document.getElementById("compressedSize");
      const reductionPercentEl = document.getElementById("reductionPercent");
      const fileNameLink = document.getElementById("fileNameLink");
      const pdfPreview = document.getElementById("pdfPreview");
      const pdfFrame = document.getElementById("pdfFrame");

      let selectedFile = null;

      // Helper function to format file size
      function formatFileSize(bytes) {
        if (bytes === 0) return "0 Bytes";
        const k = 1024;
        const sizes = ["Bytes", "KB", "MB", "GB"];
        const i = Math.floor(Math.log(bytes) / Math.log(k));
        return (
          Math.round((bytes / Math.pow(k, i)) * 100) / 100 + " " + sizes[i]
        );
      }

      // Render file list
      function renderFileList() {
        if (!selectedFile) {
          fileList.style.display = "none";
          return;
        }

        fileList.style.display = "block";
        fileList.innerHTML = `
                <li>
                    <span>
                        <i class="fa fa-file-pdf pdf-icon"></i>
                        <span>${selectedFile.name}</span>
                    </span>
                    <i class="fa fa-times delete-file"></i>
                </li>
            `;
      }

      // ================= FILE SELECT =================
      pdfInput.addEventListener("change", () => {
        selectedFile = pdfInput.files[0];
        errorMsg.style.display = "none";

        if (selectedFile) {
          renderFileList();
        }
      });

      // ================= DELETE FILE =================
      fileList.addEventListener("click", (e) => {
        if (e.target.classList.contains("delete-file")) {
          selectedFile = null;
          pdfInput.value = "";
          fileList.style.display = "none";
          errorMsg.style.display = "none";
        }
      });

      // ================= COMPRESS CLICK =================
      compressBtn.addEventListener("click", async () => {
        if (!selectedFile) {
          errorMsg.textContent = "Please select a PDF file";
          errorMsg.style.display = "block";
          return;
        }

        errorMsg.style.display = "none";
        loader.style.display = "inline-block";
        compressBtn.disabled = true;

        const originalSize = selectedFile.size;

        try {
          const formData = new FormData();
          formData.append("file", selectedFile);

          const response = await fetch(BACKEND_COMPRESS_URL, {
            method: "POST",
            body: formData,
          });

          if (!response.ok) throw new Error("Compression failed");

          const blob = await response.blob();
          const url = URL.createObjectURL(blob);
          const compressedSize = blob.size;

          // Calculate reduction
          const reduction = (
            ((originalSize - compressedSize) / originalSize) *
            100
          ).toFixed(1);

          // Update UI
          fileList.style.display = "none";
          uploadSection.style.display = "none";
          noteText.style.display = "none";
          compressBtn.style.display = "none";
          resultSection.style.display = "block";

          // Show compression stats
          compressionInfo.style.display = "block";
          originalSizeEl.textContent = formatFileSize(originalSize);
          compressedSizeEl.textContent = formatFileSize(compressedSize);
          reductionPercentEl.textContent =
            reduction > 0 ? `${reduction}% smaller` : "Optimized";

          // Set download
          downloadBtn.href = url;
          downloadBtn.download = `compressed_${selectedFile.name}`;

          // Set file name
          fileNameLink.textContent = `compressed_${selectedFile.name}`;

          // Preview handling
          const isSmallDevice = window.matchMedia("(max-width: 768px)").matches;

          if (!isSmallDevice) {
            pdfFrame.src = url;
            pdfPreview.style.display = "block";
          }

          fileNameLink.onclick = (e) => {
            e.preventDefault();
            isSmallDevice
              ? window.open(url, "_blank")
              : pdfPreview.scrollIntoView({ behavior: "smooth" });
          };
        } catch (err) {
          errorMsg.textContent = "Error compressing PDF. Please try again.";
          errorMsg.style.display = "block";
          compressBtn.style.display = "inline-flex";
        } finally {
          loader.style.display = "none";
          compressBtn.disabled = false;
        }
      });

      // ================= RESET =================
      resetBtn.addEventListener("click", () => {
        pdfInput.value = "";
        selectedFile = null;
        fileList.style.display = "none";
        fileList.innerHTML = "";
        resultSection.style.display = "none";
        uploadSection.style.display = "block";
        noteText.style.display = "block";
        compressBtn.style.display = "inline-flex";
        errorMsg.style.display = "none";
        compressionInfo.style.display = "none";
        pdfFrame.src = "";
        pdfPreview.style.display = "none";
        window.scrollTo({ top: 0, behavior: "smooth" });
      });
    </script>
  </body>
</html>
