<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Contact Us | NextoPDF</title>
    <meta
      name="description"
      content="Get in touch with NextoPDF - We're here to help with questions, feedback, and support."
    />
    <link rel="canonical" href="https://nextopdf.com/contact" />
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&family=Inter:wght@400;500&display=swap"
      rel="stylesheet"
    />

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <!-- CSS -->
    <link rel="stylesheet" href="./css/style.css" />

    <!-- Favicon -->
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./images/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="./images/favicon-16x16.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="./images/apple-touch-icon.png"
    />

    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Sora", sans-serif;
        background: #fafafa;
        color: #1a1a1a;
        overflow-x: hidden;
      }

      /* ─── Custom Alert ─────────────────────────────────────── */
      .alert-overlay {
        position: fixed;
        inset: 0;
        background: rgba(0, 0, 0, 0.45);
        backdrop-filter: blur(4px);
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 9999;
        opacity: 0;
        visibility: hidden;
        transition:
          opacity 0.25s ease,
          visibility 0.25s ease;
      }
      .alert-overlay.show {
        opacity: 1;
        visibility: visible;
      }
      .alert-box {
        background: #fff;
        border: 3px solid #1a1a1a;
        box-shadow: 10px 10px 0 #1a1a1a;
        padding: 36px 40px 30px;
        max-width: 440px;
        width: 90%;
        transform: translateY(20px) scale(0.97);
        transition: transform 0.25s cubic-bezier(0.34, 1.56, 0.64, 1);
        text-align: center;
      }
      .alert-overlay.show .alert-box {
        transform: translateY(0) scale(1);
      }
      .alert-icon-wrap {
        width: 64px;
        height: 64px;
        margin: 0 auto 20px;
        border: 3px solid #1a1a1a;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 28px;
      }
      .alert-icon-wrap.success {
        background: #dcfce7;
        color: #16a34a;
      }
      .alert-icon-wrap.error {
        background: #fee2e2;
        color: #dc2626;
      }
      .alert-icon-wrap.warning {
        background: #fef3c7;
        color: #d97706;
      }
      .alert-title {
        font-family: "JetBrains Mono", monospace;
        font-size: 18px;
        font-weight: 800;
        margin-bottom: 10px;
        color: #1a1a1a;
      }
      .alert-message {
        font-size: 15px;
        color: #555;
        line-height: 1.6;
        margin-bottom: 28px;
      }
      .alert-btn {
        padding: 12px 36px;
        background: #6366f1;
        color: #fff;
        border: 3px solid #1a1a1a;
        font-family: "JetBrains Mono", monospace;
        font-size: 13px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 1.5px;
        cursor: pointer;
        box-shadow: 5px 5px 0 #1a1a1a;
        transition: all 0.2s ease;
      }
      .alert-btn:hover {
        background: #4f46e5;
        transform: translate(2px, 2px);
        box-shadow: 3px 3px 0 #1a1a1a;
      }
      .alert-btn.error-btn {
        background: #dc2626;
      }
      .alert-btn.error-btn:hover {
        background: #b91c1c;
      }
      .alert-btn.warning-btn {
        background: #d97706;
      }
      .alert-btn.warning-btn:hover {
        background: #b45309;
      }

      /* ─── Field error highlight ────────────────────────────── */
      .form-input.field-error,
      .form-textarea.field-error,
      .form-select.field-error {
        border-color: #dc2626;
        box-shadow: 0 0 0 3px #fee2e2;
        animation: shake 0.35s ease;
      }
      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        25% {
          transform: translateX(-6px);
        }
        75% {
          transform: translateX(6px);
        }
      }
      .field-error-msg {
        font-family: "JetBrains Mono", monospace;
        font-size: 12px;
        color: #dc2626;
        margin-top: 6px;
        display: flex;
        align-items: center;
        gap: 5px;
      }

      /* ─── Button loader ────────────────────────────────────── */
      .form-button {
        width: 100%;
        padding: 18px;
        background: #6366f1;
        color: white;
        border: 3px solid #1a1a1a;
        font-family: "JetBrains Mono", monospace;
        font-size: 14px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 2px;
        cursor: pointer;
        transition: all 0.3s ease;
        box-shadow: 6px 6px 0 #1a1a1a;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 12px;
        position: relative;
      }
      .form-button:hover:not(:disabled) {
        background: #4f46e5;
        transform: translate(3px, 3px);
        box-shadow: 3px 3px 0 #1a1a1a;
      }
      .form-button:disabled {
        cursor: not-allowed;
        opacity: 0.85;
        transform: translate(3px, 3px);
        box-shadow: 3px 3px 0 #1a1a1a;
      }
      .btn-spinner {
        width: 18px;
        height: 18px;
        border: 3px solid rgba(255, 255, 255, 0.4);
        border-top-color: #fff;
        border-radius: 50%;
        animation: spin 0.7s linear infinite;
        display: none;
      }
      .form-button.loading .btn-spinner {
        display: block;
      }
      .form-button.loading .btn-text {
        opacity: 0.75;
      }
      @keyframes spin {
        to {
          transform: rotate(360deg);
        }
      }

      /* ─── Page layout (unchanged from original) ───────────── */
      .contact-container {
        min-height: 100vh;
        padding: 120px 20px 80px;
        max-width: 1400px;
        margin: 0 auto;
      }
      .contact-header {
        text-align: center;
        margin-bottom: 80px;
        animation: fadeInDown 0.8s ease-out;
      }
      @keyframes fadeInDown {
        from {
          opacity: 0;
          transform: translateY(-30px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      .contact-label {
        font-family: "JetBrains Mono", monospace;
        font-size: 12px;
        font-weight: 700;
        letter-spacing: 3px;
        text-transform: uppercase;
        color: #6366f1;
        margin-bottom: 20px;
        display: inline-block;
        padding: 8px 20px;
        background: #f0f0ff;
        border: 2px solid #6366f1;
      }
      .contact-title {
        font-size: clamp(40px, 6vw, 80px);
        font-weight: 800;
        line-height: 1.1;
        color: #1a1a1a;
        margin-bottom: 20px;
      }
      .contact-subtitle {
        font-size: clamp(18px, 2vw, 24px);
        color: #666;
        max-width: 600px;
        margin: 0 auto;
        line-height: 1.6;
      }
      .contact-grid {
        display: grid;
        grid-template-columns: 1fr 1.2fr;
        gap: 60px;
        margin-top: 60px;
      }
      .contact-info {
        animation: fadeInLeft 0.8s ease-out 0.2s backwards;
      }
      @keyframes fadeInLeft {
        from {
          opacity: 0;
          transform: translateX(-30px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }
      .info-section {
        margin-bottom: 50px;
      }
      .info-title {
        font-family: "JetBrains Mono", monospace;
        font-size: 14px;
        font-weight: 700;
        letter-spacing: 2px;
        text-transform: uppercase;
        color: #6366f1;
        margin-bottom: 25px;
        display: flex;
        align-items: center;
        gap: 10px;
      }
      .info-title::before {
        content: "";
        width: 30px;
        height: 2px;
        background: #6366f1;
      }
      .contact-methods {
        display: flex;
        flex-direction: column;
        gap: 20px;
      }
      .contact-method {
        display: flex;
        align-items: flex-start;
        gap: 20px;
        padding: 25px;
        background: white;
        border: 3px solid #1a1a1a;
        box-shadow: 8px 8px 0 #1a1a1a;
        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        cursor: pointer;
      }
      .contact-method:hover {
        transform: translate(4px, 4px);
        box-shadow: 4px 4px 0 #1a1a1a;
      }
      .method-icon {
        width: 50px;
        height: 50px;
        background: #6366f1;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 24px;
        color: white;
        flex-shrink: 0;
        border: 3px solid #1a1a1a;
      }
      .method-content h3 {
        font-size: 18px;
        font-weight: 700;
        margin-bottom: 8px;
        color: #1a1a1a;
      }
      .method-content p {
        font-size: 15px;
        color: #666;
        line-height: 1.6;
      }
      .method-content a {
        color: #6366f1;
        text-decoration: none;
        font-weight: 600;
        transition: color 0.2s;
      }
      .method-content a:hover {
        color: #4f46e5;
        text-decoration: underline;
      }

      .faq-section {
        margin-top: 50px;
      }
      .faq-item {
        background: white;
        border: 3px solid #1a1a1a;
        margin-bottom: 15px;
        overflow: hidden;
      }
      .faq-question {
        font-family: "JetBrains Mono", monospace;
        font-size: 16px;
        font-weight: 700;
        padding: 20px 25px;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        align-items: center;
        transition: background 0.2s;
        user-select: none;
      }
      .faq-question:hover {
        background: #f5f5f5;
      }
      .faq-answer {
        padding: 0 25px;
        max-height: 0;
        overflow: hidden;
        transition: all 0.3s ease;
      }
      .faq-answer.active {
        padding: 0 25px 20px;
        max-height: 500px;
      }
      .faq-answer p {
        color: #666;
        line-height: 1.7;
      }
      .faq-icon {
        font-size: 20px;
        transition: transform 0.3s ease;
      }
      .faq-question.active .faq-icon {
        transform: rotate(45deg);
      }

      .contact-form {
        background: white;
        border: 3px solid #1a1a1a;
        padding: 40px;
        box-shadow: 12px 12px 0 #1a1a1a;
        animation: fadeInRight 0.8s ease-out 0.4s backwards;
      }
      @keyframes fadeInRight {
        from {
          opacity: 0;
          transform: translateX(30px);
        }
        to {
          opacity: 1;
          transform: translateX(0);
        }
      }
      .form-group {
        margin-bottom: 25px;
      }
      .form-label {
        font-family: "JetBrains Mono", monospace;
        font-size: 13px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 1px;
        color: #1a1a1a;
        margin-bottom: 10px;
        display: block;
      }
      .form-input,
      .form-textarea,
      .form-select {
        width: 100%;
        padding: 15px 18px;
        border: 3px solid #1a1a1a;
        background: #fafafa;
        font-family: "Sora", sans-serif;
        font-size: 15px;
        color: #1a1a1a;
        transition: all 0.2s;
        outline: none;
      }
      .form-input:focus,
      .form-textarea:focus,
      .form-select:focus {
        background: white;
        box-shadow: 0 0 0 3px #6366f1;
      }
      .form-textarea {
        min-height: 150px;
        resize: vertical;
      }

      .response-time {
        background: #fff3cd;
        border: 3px solid #1a1a1a;
        padding: 20px;
        margin-top: 30px;
        display: flex;
        align-items: center;
        gap: 15px;
      }
      .response-time i {
        font-size: 24px;
        color: #f59e0b;
      }
      .response-time p {
        margin: 0;
        font-size: 14px;
        color: #1a1a1a;
      }

      @media (max-width: 968px) {
        .contact-grid {
          grid-template-columns: 1fr;
          gap: 50px;
        }
        .contact-form {
          padding: 30px;
          box-shadow: 8px 8px 0 #1a1a1a;
        }
      }
      @media (max-width: 480px) {
        .contact-container {
          padding: 100px 15px 60px;
        }
        .contact-method {
          flex-direction: column;
          text-align: center;
          align-items: center;
        }
        .alert-box {
          padding: 28px 24px 24px;
        }
      }
    </style>
  </head>

  <body>
    <!-- ─── Custom Alert Modal ───────────────────────────────── -->
    <div
      class="alert-overlay"
      id="customAlert"
      role="dialog"
      aria-modal="true"
      aria-labelledby="alertTitle"
    >
      <div class="alert-box">
        <div class="alert-icon-wrap" id="alertIcon">
          <i id="alertIconI" class="fas fa-check"></i>
        </div>
        <div class="alert-title" id="alertTitle">Title</div>
        <div class="alert-message" id="alertMessage">Message</div>
        <button class="alert-btn" id="alertCloseBtn" onclick="closeAlert()">
          OK
        </button>
      </div>
    </div>

    <!-- Header placeholder -->
    <section id="header-placeholder"></section>

    <div class="contact-container">
      <div class="contact-header">
        <div class="contact-label">Get in Touch</div>
        <h1 class="contact-title">NextoPDF - Let's Talk</h1>
        <p class="contact-subtitle">
          Have a question, feedback, or just want to say hi? We're always happy
          to hear from you.
        </p>
      </div>

      <div class="contact-grid">
        <!-- Contact Info -->
        <div class="contact-info">
          <div class="info-section">
            <h2 class="info-title">Contact Methods</h2>
            <div class="contact-methods">
              <div class="contact-method">
                <div class="method-icon"><i class="fas fa-envelope"></i></div>
                <div class="method-content">
                  <h3>Email Us</h3>
                  <p>
                    For general inquiries and support:<br />
                    <a href="mailto:nextopdf@gmail.com">nextopdf@gmail.com</a>
                  </p>
                </div>
              </div>
              <div class="contact-method">
                <div class="method-icon"><i class="fas fa-bug"></i></div>
                <div class="method-content">
                  <h3>Report a Bug</h3>
                  <p>
                    Found an issue? Help us improve:<br />
                    <a href="mailto:nextopdf@gmail.com">nextopdf@gmail.com</a>
                  </p>
                </div>
              </div>
              <div class="contact-method">
                <div class="method-icon"><i class="fas fa-lightbulb"></i></div>
                <div class="method-content">
                  <h3>Feature Requests</h3>
                  <p>
                    Have an idea for a new feature?<br />
                    <a href="mailto:nextopdf@gmail.com">nextopdf@gmail.com</a>
                  </p>
                </div>
              </div>
              <div class="contact-method">
                <div class="method-icon"><i class="fas fa-handshake"></i></div>
                <div class="method-content">
                  <h3>Business Inquiries</h3>
                  <p>
                    Partnerships and collaborations:<br />
                    <a href="mailto:nextopdf@gmail.com">nextopdf@gmail.com</a>
                  </p>
                </div>
              </div>
            </div>
          </div>

          <div class="info-section faq-section">
            <h2 class="info-title">Quick Answers</h2>
            <div class="faq-item">
              <div class="faq-question" onclick="toggleFaq(this)">
                <span>Is NextoPDF really free?</span>
                <i class="fas fa-plus faq-icon"></i>
              </div>
              <div class="faq-answer">
                <p>
                  Yes! All our tools are completely free to use with no hidden
                  fees, no subscriptions, and no usage limits.
                </p>
              </div>
            </div>
            <div class="faq-item">
              <div class="faq-question" onclick="toggleFaq(this)">
                <span>How do you protect my files?</span>
                <i class="fas fa-plus faq-icon"></i>
              </div>
              <div class="faq-answer">
                <p>
                  Your files are processed entirely in your browser using
                  JavaScript. They never get uploaded to our servers.
                </p>
              </div>
            </div>
            <div class="faq-item">
              <div class="faq-question" onclick="toggleFaq(this)">
                <span>What if I need help?</span>
                <i class="fas fa-plus faq-icon"></i>
              </div>
              <div class="faq-answer">
                <p>
                  Email us at nextopdf@gmail.com or use the contact form. We
                  typically respond within 24–48 hours.
                </p>
              </div>
            </div>
          </div>
        </div>

        <!-- Contact Form -->
        <div class="contact-form">
          <form id="contactForm" onsubmit="handleSubmit(event)" novalidate>
            <div class="form-group">
              <label class="form-label" for="name"
                >Your Name <span style="color: #dc2626">*</span></label
              >
              <input
                type="text"
                id="name"
                name="name"
                class="form-input"
                placeholder="John Doe"
              />
            </div>

            <div class="form-group">
              <label class="form-label" for="email"
                >Email Address <span style="color: #dc2626">*</span></label
              >
              <input
                type="email"
                id="email"
                name="email"
                class="form-input"
                placeholder="john@example.com"
              />
            </div>

            <div class="form-group">
              <label class="form-label" for="subject"
                >Subject <span style="color: #dc2626">*</span></label
              >
              <select id="subject" name="subject" class="form-select">
                <option value="">Select a topic...</option>
                <option value="general">General Inquiry</option>
                <option value="support">Technical Support</option>
                <option value="bug">Bug Report</option>
                <option value="feature">Feature Request</option>
                <option value="business">Business Inquiry</option>
                <option value="other">Other</option>
              </select>
            </div>

            <div class="form-group">
              <label class="form-label" for="message"
                >Message <span style="color: #dc2626">*</span></label
              >
              <textarea
                id="message"
                name="message"
                class="form-textarea"
                placeholder="Tell us what's on your mind..."
              ></textarea>
            </div>

            <button type="submit" class="form-button" id="submitBtn">
              <span class="btn-spinner"></span>
              <span class="btn-text">Send Message</span>
            </button>
          </form>

          <div class="response-time">
            <i class="fas fa-clock"></i>
            <p>
              <strong>Response Time:</strong> We typically respond within 24–48
              hours during business days.
            </p>
          </div>
        </div>
      </div>
    </div>

    <!-- Footer placeholder -->
    <section id="footer-placeholder"></section>

    <script src="./js/app.js"></script>
    <script>
      const BACKEND_URL = `${BACKEND_BASE_URL}/contact`;
      /* ─── Custom Alert ──────────────────────────────────────── */
      function showAlert(type, title, message) {
        // type: 'success' | 'error' | 'warning'
        const overlay = document.getElementById("customAlert");
        const iconWrap = document.getElementById("alertIcon");
        const iconEl = document.getElementById("alertIconI");
        const titleEl = document.getElementById("alertTitle");
        const msgEl = document.getElementById("alertMessage");
        const btnEl = document.getElementById("alertCloseBtn");

        const config = {
          success: { icon: "fa-check", btnClass: "" },
          error: { icon: "fa-times", btnClass: "error-btn" },
          warning: { icon: "fa-exclamation", btnClass: "warning-btn" },
        };
        const c = config[type] || config.success;

        iconWrap.className = `alert-icon-wrap ${type}`;
        iconEl.className = `fas ${c.icon}`;
        titleEl.textContent = title;
        msgEl.textContent = message;
        btnEl.className = `alert-btn ${c.btnClass}`;

        overlay.classList.add("show");
        btnEl.focus();
      }

      function closeAlert() {
        document.getElementById("customAlert").classList.remove("show");
      }

      // Close on backdrop click
      document
        .getElementById("customAlert")
        .addEventListener("click", function (e) {
          if (e.target === this) closeAlert();
        });

      // Close on Escape key
      document.addEventListener("keydown", function (e) {
        if (e.key === "Escape") closeAlert();
      });

      /* ─── Field validation ──────────────────────────────────── */
      const validators = {
        name: {
          test: (v) => v.trim().length >= 2,
          msg: "Please enter your full name (at least 2 characters).",
        },
        email: {
          test: (v) => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(v.trim()),
          msg: "Please enter a valid email address.",
        },
        subject: { test: (v) => v !== "", msg: "Please select a topic." },
        message: {
          test: (v) => v.trim().length >= 10,
          msg: "Message must be at least 10 characters.",
        },
      };

      function clearFieldError(id) {
        const el = document.getElementById(id);
        el.classList.remove("field-error");
        const prev = el.parentElement.querySelector(".field-error-msg");
        if (prev) prev.remove();
      }

      function setFieldError(id, msg) {
        const el = document.getElementById(id);
        el.classList.add("field-error");
        const err = document.createElement("div");
        err.className = "field-error-msg";
        err.innerHTML = `<i class="fas fa-exclamation-circle"></i> ${msg}`;
        el.parentElement.appendChild(err);
      }

      function validateForm(data) {
        let valid = true;
        for (const [field, rule] of Object.entries(validators)) {
          clearFieldError(field);
          if (!rule.test(data[field] || "")) {
            setFieldError(field, rule.msg);
            valid = false;
          }
        }
        // Scroll to first error
        if (!valid) {
          const firstErr = document.querySelector(".field-error");
          if (firstErr)
            firstErr.scrollIntoView({ behavior: "smooth", block: "center" });
        }
        return valid;
      }

      // Clear error on input
      ["name", "email", "subject", "message"].forEach((id) => {
        document
          .getElementById(id)
          .addEventListener("input", () => clearFieldError(id));
        document
          .getElementById(id)
          .addEventListener("change", () => clearFieldError(id));
      });

      /* ─── Button loader helpers ─────────────────────────────── */
      function setLoading(state) {
        const btn = document.getElementById("submitBtn");
        btn.disabled = state;
        btn.classList.toggle("loading", state);
        btn.querySelector(".btn-text").textContent = state
          ? "Sending..."
          : "Send Message";
      }

      /* ─── Submit handler ────────────────────────────────────── */
      async function handleSubmit(event) {
        event.preventDefault();
        const formData = new FormData(event.target);
        const data = Object.fromEntries(formData);

        // Client-side validation
        if (!validateForm(data)) return;

        setLoading(true);

        try {
          const response = await fetch(BACKEND_URL, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data),
          });

          const result = await response.json();

          if (response.ok) {
            showAlert(
              "success",
              "Message Sent!",
              "Thank you! We've received your message and will get back to you within 24–48 hours.",
            );
            event.target.reset();
          } else {
            showAlert(
              "error",
              "Submission Failed",
              result.error || "Something went wrong. Please try again.",
            );
          }
        } catch (error) {
          console.error(error);
          showAlert(
            "error",
            "Network Error",
            "Unable to reach the server. Please check your connection and try again.",
          );
        } finally {
          setLoading(false);
        }
      }

      /* ─── FAQ toggle ────────────────────────────────────────── */
      function toggleFaq(element) {
        const answer = element.nextElementSibling;
        const allFaqs = document.querySelectorAll(".faq-question");
        const allAns = document.querySelectorAll(".faq-answer");

        allFaqs.forEach((faq, i) => {
          if (faq !== element) {
            faq.classList.remove("active");
            allAns[i].classList.remove("active");
          }
        });

        element.classList.toggle("active");
        answer.classList.toggle("active");
      }
    </script>
  </body>
</html>
