<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Primary Meta Tags -->
    <title>
      Merge PDF Files Online Free - Combine Multiple PDFs | NextoPDF
    </title>
    <meta
      name="title"
      content="Merge PDF Files Online Free - Combine Multiple PDFs | NextoPDF"
    />
    <meta
      name="description"
      content="Merge multiple PDF files into one document online for free. Fast, secure, and easy-to-use PDF merger. No registration required. Combine unlimited PDFs in seconds."
    />
    <meta
      name="keywords"
      content="merge PDF online, combine PDF files, PDF merger free, join PDFs, merge multiple PDFs, combine PDF documents, online PDF merger, free PDF combiner"
    />
    <meta name="author" content="NextoPDF" />
    <meta
      name="robots"
      content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"
    />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://nextopdf.com/merge" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://nextopdf.com/merge" />
    <meta
      property="og:title"
      content="Merge PDF Files Online Free - Combine Multiple PDFs | NextoPDF"
    />
    <meta
      property="og:description"
      content="Merge multiple PDF files into one document online for free. Fast, secure, and easy-to-use PDF merger."
    />
    <meta
      property="og:image"
      content="https://nextopdf.com/images/merge-pdf-og.png"
    />
    <meta property="og:site_name" content="NextoPDF" />
    <meta property="og:locale" content="en_US" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://nextopdf.com/merge" />
    <meta
      name="twitter:title"
      content="Merge PDF Files Online Free - Combine Multiple PDFs | NextoPDF"
    />
    <meta
      name="twitter:description"
      content="Merge multiple PDF files into one document online for free. Fast, secure, and easy-to-use PDF merger."
    />
    <meta
      name="twitter:image"
      content="https://nextopdf.com/images/merge-pdf-twitter.png"
    />
    <meta name="google-adsense-account" content="ca-pub-5797619165090350" />

    <!-- Structured Data / Schema.org -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "NextoPDF - Merge PDF",
        "url": "https://nextopdf.com/merge",
        "description": "Free online tool to merge multiple PDF files into a single document",
        "applicationCategory": "UtilitiesApplication",
        "operatingSystem": "Any",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        },
        "featureList": [
          "Merge unlimited PDF files",
          "No file size restrictions",
          "Secure and private processing",
          "No registration required",
          "Works in browser"
        ]
      }
    </script>

    <!-- Breadcrumb Schema -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BreadcrumbList",
        "itemListElement": [
          {
            "@type": "ListItem",
            "position": 1,
            "name": "Home",
            "item": "https://nextopdf.com"
          },
          {
            "@type": "ListItem",
            "position": 2,
            "name": "Merge PDF",
            "item": "https://nextopdf.com/merge"
          }
        ]
      }
    </script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&family=Inter:wght@400;500&display=swap"
      rel="stylesheet"
    />

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <!-- CSS -->
    <link rel="stylesheet" href="./css/style.css" />

    <!-- Favicon -->
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./images/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="./images/favicon-16x16.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="./images/apple-touch-icon.png"
    />

    <style>
      /* Accessibility: Skip to main content link */
      .skip-to-main {
        position: absolute;
        top: -40px;
        left: 0;
        background: #4f46e5;
        color: white;
        padding: 8px 16px;
        text-decoration: none;
        z-index: 100;
        border-radius: 0 0 4px 0;
        font-weight: 500;
      }

      .skip-to-main:focus {
        top: 0;
      }

      /* Additional accessibility improvements */
      button:focus,
      a:focus,
      input:focus {
        outline: 2px solid #4f46e5;
        outline-offset: 2px;
      }

      /* Screen reader only text */
      .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border-width: 0;
      }

      /* Improve delete button accessibility */
      .delete-file {
        background: #ef4444;
        border: none;
        color: white;
        border-radius: 50%;
        width: 24px;
        height: 24px;
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        transition: background 0.3s ease;
      }

      .delete-file i {
        color: #fff;
      }

      .delete-file:hover,
      .delete-file:focus {
        background: #dc2626;
      }

      /* Responsive subtitle styling */
      .subtitle {
        font-size: 18px;
        color: #555;
        margin-bottom: 30px;
        line-height: 1.6;
      }

      @media (max-width: 768px) {
        .subtitle {
          font-size: 16px;
        }
      }

      /* Ad section spacing */
      .ad-section {
        min-height: 100px;
      }
    </style>

    <!-- Google AdSense (Replace with your AdSense ID) -->
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5797619165090350"
      crossorigin="anonymous"
    ></script>
  </head>

  <body>
    <!-- Skip to main content for accessibility -->
    <a href="#main-content" class="skip-to-main">Skip to main content</a>

    <!-- Header -->
    <section id="header-placeholder"></section>

    <!-- Main Content -->
    <main id="main-content">
      <!-- Merge Tool Section -->
      <section class="merge-tool" aria-labelledby="merge-heading">
        <div class="container">
          <h1 id="merge-heading">NextoPDF - Merge PDF Files Online Free</h1>
          <p class="subtitle">
            NextoPDF - Combine multiple PDF documents into one file in seconds.
            Fast, secure, and completely free. No registration required.
          </p>

          <div class="upload-section">
            <div id="uploadSection">
              <label for="pdfUpload" class="upload-label" tabindex="0">
                <i class="fa fa-upload" aria-hidden="true"></i>
                <span>Choose PDF files</span>
              </label>
              <input
                type="file"
                id="pdfUpload"
                multiple
                accept=".pdf"
                aria-label="Select PDF files to merge"
              />
            </div>

            <ul
              id="fileList"
              class="file-list"
              role="list"
              aria-label="Selected PDF files"
            ></ul>

            <button
              id="mergeBtn"
              class="cta-button"
              aria-label="Merge selected PDF files"
            >
              <i
                class="fa fa-spinner fa-spin"
                style="display: none"
                aria-hidden="true"
              ></i>
              <span id="mergeIcon">
                <i
                  class="fa fa-object-group"
                  aria-hidden="true"
                  style="margin-right: 8px"
                ></i>
              </span>
              <span>Merge PDFs</span>
            </button>
            <p class="error-text" id="nopdf" role="alert" aria-live="polite">
              Please select at least two PDF files to merge.
            </p>

            <div
              id="resultBtns"
              style="display: none; margin-top: 15px"
              role="region"
              aria-label="Merge results"
            >
              <div id="resultCard" class="result-card">
                <i class="fa fa-file-pdf" aria-hidden="true"></i>
              </div>
              <p class="file-name">
                <a href="#" id="fileNameLink" aria-label="View merged PDF"
                  >merged.pdf</a
                >
              </p>

              <a
                id="downloadBtn"
                href="#"
                class="cta-button"
                download="merged.pdf"
                aria-label="Download merged PDF"
              >
                <i class="fa fa-download" aria-hidden="true"></i> Download
              </a>
              <a
                id="shareBtn"
                href="#"
                class="cta-button"
                aria-label="Share merged PDF"
              >
                <i class="fa fa-share-alt" aria-hidden="true"></i> Share
              </a>
              <button
                id="resetBtn"
                class="secondary-btn"
                aria-label="Reset and merge another PDF"
              >
                <i class="fa fa-rotate-right" aria-hidden="true"></i> Merge
                Another PDF
              </button>
            </div>

            <p class="note" id="noteText">
              <i class="fa fa-info-circle" aria-hidden="true"></i>
              Supported format: PDF. Select multiple files at once, or add files
              one by one. Use Ctrl (Cmd on Mac) to select multiple files.
            </p>
          </div>

          <!-- PDF Preview -->
          <div id="pdfPreview" style="display: none; margin-top: 30px">
            <h2>Preview Merged PDF</h2>
            <iframe
              id="pdfFrame"
              width="100%"
              height="600"
              title="Merged PDF preview"
              style="border-radius: 12px; border: 1px solid #e5e7eb"
            ></iframe>
          </div>
        </div>
      </section>

      <!-- AdSense Ad Placeholder (Above the fold) -->
      <section class="ad-section" style="margin: 40px 0; text-align: center">
        <div class="container">
          <script
            async
            src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5797619165090350"
            crossorigin="anonymous"
          ></script>
          <!-- index ads 1 -->
          <ins
            class="adsbygoogle"
            style="display: block"
            data-ad-client="ca-pub-5797619165090350"
            data-ad-slot="7553156845"
            data-ad-format="auto"
            data-full-width-responsive="true"
          ></ins>
          <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
          </script>
        </div>
      </section>

      <!-- How to Merge PDFs Section -->
      <section class="features" style="background: #f9fafb">
        <div class="container">
          <h2>How to Merge PDF Files Online</h2>
          <p
            style="
              text-align: center;
              color: #555;
              margin-bottom: 40px;
              max-width: 800px;
              margin-left: auto;
              margin-right: auto;
            "
          >
            Follow these simple steps to combine multiple PDF documents into a
            single file using our free online PDF merger tool.
          </p>

          <div class="feature-grid">
            <div class="feature-card">
              <div
                style="
                  font-size: 48px;
                  color: #4f46e5;
                  font-weight: bold;
                  margin-bottom: 10px;
                "
              >
                1
              </div>
              <h3>Select PDF Files</h3>
              <p>
                Click "Choose PDF files" button and select two or more PDF
                documents from your device. You can select multiple files at
                once or add them one by one.
              </p>
            </div>
            <div class="feature-card">
              <div
                style="
                  font-size: 48px;
                  color: #4f46e5;
                  font-weight: bold;
                  margin-bottom: 10px;
                "
              >
                2
              </div>
              <h3>Arrange Order</h3>
              <p>
                Review the list of selected files. The PDFs will be merged in
                the order shown. You can remove any file by clicking the × icon
                next to it.
              </p>
            </div>
            <div class="feature-card">
              <div
                style="
                  font-size: 48px;
                  color: #4f46e5;
                  font-weight: bold;
                  margin-bottom: 10px;
                "
              >
                3
              </div>
              <h3>Merge & Download</h3>
              <p>
                Click the "Merge PDFs" button and wait a few seconds. Once
                merged, download your combined PDF file immediately to your
                device.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Why Merge PDFs Section -->
      <section class="benefits" style="background: white; padding: 60px 20px">
        <div class="container">
          <h2>Why Use Our PDF Merger Tool?</h2>
          <div class="feature-grid">
            <div class="feature-card">
              <i
                class="fas fa-bolt"
                style="font-size: 40px; color: #10b981; margin-bottom: 15px"
                aria-hidden="true"
              ></i>
              <h3>Lightning Fast</h3>
              <p>
                Quickly combine multiple PDF files into one. The process is fast
                and straightforward, so you don’t have to deal with delays or
                complicated steps.
              </p>
            </div>
            <div class="feature-card">
              <i
                class="fas fa-shield-alt"
                style="font-size: 40px; color: #10b981; margin-bottom: 15px"
                aria-hidden="true"
              ></i>
              <h3>Secure & Private</h3>
              <p>
                Your files are processed directly in your browser. They are not
                uploaded or stored on our servers, so your documents remain
                private.
              </p>
            </div>
            <div class="feature-card">
              <i
                class="fas fa-dollar-sign"
                style="font-size: 40px; color: #10b981; margin-bottom: 15px"
                aria-hidden="true"
              ></i>
              <h3>100% Free</h3>
              <p>
                There’s no limit on how many PDF files you can merge, and the
                tool is free to use.
              </p>
            </div>
            <div class="feature-card">
              <i
                class="fas fa-user-lock"
                style="font-size: 40px; color: #10b981; margin-bottom: 15px"
                aria-hidden="true"
              ></i>
              <h3>No Registration</h3>
              <p>
                There’s no need to create an account. Just upload your files and
                merge them instantly.
              </p>
            </div>
            <div class="feature-card">
              <i
                class="fas fa-mobile-alt"
                style="font-size: 40px; color: #10b981; margin-bottom: 15px"
                aria-hidden="true"
              ></i>
              <h3>Works Everywhere</h3>
              <p>
                It’s compatible with all major devices and operating systems,
                including Windows, macOS, Linux, iOS, and Android, and runs in
                modern browsers.
              </p>
            </div>
            <div class="feature-card">
              <i
                class="fas fa-infinity"
                style="font-size: 40px; color: #10b981; margin-bottom: 15px"
                aria-hidden="true"
              ></i>
              <h3>No Limits</h3>
              <p>
                You can merge unlimited PDF files, regardless of size, anytime
                you need.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- AdSense Ad Placeholder (Mid-content) -->
      <section
        class="ad-section"
        style="
          margin: 40px 0;
          text-align: center;
          background: #f9fafb;
          padding: 40px 20px;
        "
      >
        <div class="container">
          <script
            async
            src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5797619165090350"
            crossorigin="anonymous"
          ></script>
          <!-- index ads 1 -->
          <ins
            class="adsbygoogle"
            style="display: block"
            data-ad-client="ca-pub-5797619165090350"
            data-ad-slot="7553156845"
            data-ad-format="auto"
            data-full-width-responsive="true"
          ></ins>
          <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
          </script>
        </div>
      </section>

      <!-- Detailed Guide Section -->
      <section class="features" style="background: white">
        <div class="container">
          <h2>Complete Guide to Merging PDF Files</h2>
          <div style="max-width: 900px; margin: 0 auto; text-align: left">
            <h3 style="color: #1e3a8a; margin-bottom: 15px; margin-top: 35px">
              What Does It Mean to Merge PDFs?
            </h3>
            <p style="color: #555; line-height: 1.8; margin-bottom: 25px">
              When you merge PDFs, you’re joining multiple files into one
              complete document. All pages are placed in sequence while keeping
              the original formatting, images, and links intact. This is
              especially useful for grouping related documents like report
              chapters, invoices, or forms that need to stay together.
            </p>

            <h3 style="color: #1e3a8a; margin-bottom: 15px; margin-top: 35px">
              Common Reasons to Merge PDF Files
            </h3>
            <p style="color: #555; line-height: 1.8; margin-bottom: 15px">
              There are numerous practical situations where merging PDFs becomes
              essential:
            </p>
            <ul
              style="
                color: #555;
                line-height: 1.8;
                margin-bottom: 25px;
                padding-left: 25px;
              "
            >
              <li style="margin-bottom: 10px">
                <strong>Business Documents:</strong> Combine multiple invoices,
                receipts, or contracts into a single file for easier
                record-keeping and sharing with clients or accountants.
              </li>
              <li style="margin-bottom: 10px">
                <strong>Academic Work:</strong> Join separate chapters, research
                papers, or assignments into one comprehensive document for
                submission or archiving.
              </li>
              <li style="margin-bottom: 10px">
                <strong>Job Applications:</strong> Merge your resume, cover
                letter, and portfolio samples into a single PDF to simplify the
                application process.
              </li>
              <li style="margin-bottom: 10px">
                <strong>Reports and Presentations:</strong> Combine executive
                summary, main content, appendices, and supporting documents into
                one complete report.
              </li>
              <li style="margin-bottom: 10px">
                <strong>Legal Documents:</strong> Join multiple legal forms,
                agreements, or supporting evidence into a single submission.
              </li>
              <li style="margin-bottom: 10px">
                <strong>Personal Records:</strong> Consolidate bank statements,
                medical records, or travel documents for easier organization.
              </li>
            </ul>

            <h3 style="color: #1e3a8a; margin-bottom: 15px; margin-top: 35px">
              How Our PDF Merger Works
            </h3>
            <p style="color: #555; line-height: 1.8; margin-bottom: 25px">
              Our online PDF merger uses advanced browser technology to combine
              your files directly on your device. For smaller files (under 20MB
              total), the entire merging process happens in your browser using
              JavaScript and the PDF-lib library, which means your files never
              leave your computer. This ensures maximum privacy and speed. For
              larger files, we use server-side processing to handle the merge
              efficiently, but the files are immediately deleted after
              processing. The tool maintains all original formatting, embedded
              fonts, images, hyperlinks, and bookmarks from your source PDFs,
              ensuring the merged document looks exactly as intended.
            </p>

            <h3 style="color: #1e3a8a; margin-bottom: 15px; margin-top: 35px">
              Tips for Effective PDF Merging
            </h3>
            <p style="color: #555; line-height: 1.8; margin-bottom: 15px">
              To get the best results when merging PDF files, consider these
              helpful tips:
            </p>
            <ul
              style="
                color: #555;
                line-height: 1.8;
                margin-bottom: 25px;
                padding-left: 25px;
              "
            >
              <li style="margin-bottom: 10px">
                Check the file order before merging - PDFs will be combined in
                the sequence they appear in the list
              </li>
              <li style="margin-bottom: 10px">
                Ensure all PDF files are properly named before uploading to
                maintain clarity in your workflow
              </li>
              <li style="margin-bottom: 10px">
                If you need to merge many files, consider combining related
                documents first, then merging those combinations
              </li>
              <li style="margin-bottom: 10px">
                For very large merged files, use our compression tool afterward
                to reduce the file size
              </li>
              <li style="margin-bottom: 10px">
                Keep a backup of original files before merging, especially for
                important documents
              </li>
              <li style="margin-bottom: 10px">
                Preview the merged PDF before downloading to ensure everything
                is in the correct order
              </li>
            </ul>

            <h3 style="color: #1e3a8a; margin-bottom: 15px; margin-top: 35px">
              Security and Privacy Considerations
            </h3>
            <p style="color: #555; line-height: 1.8; margin-bottom: 25px">
              Merging PDFs online can raise security concerns, particularly for
              sensitive files such as legal contracts or financial records.
              That’s why our tool processes most files right in your browser,
              meaning small PDFs never leave your device. Larger files are
              handled on secure servers with encrypted connections, and all
              files are deleted as soon as the merge finishes. We don’t store,
              view, or share your documents. For highly confidential material,
              using the tool on a private network is recommended.
            </p>

            <h3 style="color: #1e3a8a; margin-bottom: 15px; margin-top: 35px">
              Troubleshooting Common Issues
            </h3>
            <p style="color: #555; line-height: 1.8; margin-bottom: 15px">
              If you encounter problems while merging PDFs, here are solutions
              to common issues:
            </p>
            <ul
              style="
                color: #555;
                line-height: 1.8;
                margin-bottom: 25px;
                padding-left: 25px;
              "
            >
              <li style="margin-bottom: 10px">
                <strong>Files won't upload:</strong> Ensure your PDFs aren't
                password-protected. You'll need to remove password protection
                first using our unlock tool.
              </li>
              <li style="margin-bottom: 10px">
                <strong>Merge is slow:</strong> This usually happens with very
                large files. The tool may switch to server-side processing,
                which can take a bit longer.
              </li>
              <li style="margin-bottom: 10px">
                <strong>Result file is too large:</strong> After merging, use
                our compress PDF tool to reduce the file size while maintaining
                quality.
              </li>
              <li style="margin-bottom: 10px">
                <strong>Pages in wrong order:</strong> Double-check the file
                list before clicking merge. You can remove and re-add files to
                change their order.
              </li>
              <li style="margin-bottom: 10px">
                <strong>Browser freezes:</strong> This can occur with extremely
                large files. Try closing other browser tabs or refreshing the
                page and trying again.
              </li>
            </ul>

            <h3 style="color: #1e3a8a; margin-bottom: 15px; margin-top: 35px">
              Alternative Ways to Organize Multiple PDFs
            </h3>
            <p style="color: #555; line-height: 1.8; margin-bottom: 25px">
              While merging PDFs can be very convenient, it’s not always the
              ideal choice. Sometimes, keeping files separate but well-organized
              makes more sense. For example, you could create a ZIP archive to
              send multiple PDFs together while allowing recipients to access
              each file individually. For presentations or portfolios, you might
              merge some documents while leaving others separate. If you often
              work with the same set of files, maintaining a clear folder
              structure can be more practical than repeatedly merging them.
              Consider how your recipients will use the files before deciding
              whether to combine them.
            </p>
          </div>
        </div>
      </section>

      <!-- AdSense Ad Placeholder (Bottom) -->
      <section
        class="ad-section"
        style="
          margin: 40px 0;
          text-align: center;
          background: white;
          padding: 40px 20px;
        "
      >
        <div class="container">
          <script
            async
            src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5797619165090350"
            crossorigin="anonymous"
          ></script>
          <!-- index ads 1 -->
          <ins
            class="adsbygoogle"
            style="display: block"
            data-ad-client="ca-pub-5797619165090350"
            data-ad-slot="7553156845"
            data-ad-format="auto"
            data-full-width-responsive="true"
          ></ins>
          <script>
            (adsbygoogle = window.adsbygoogle || []).push({});
          </script>
        </div>
      </section>

      <!-- Related Tools Section -->
      <section class="benefits" style="background: #f9fafb">
        <div class="container">
          <h2>Related PDF Tools You Might Need</h2>
          <div class="feature-grid">
            <div class="feature-card">
              <i
                class="fas fa-cut"
                style="font-size: 40px; color: #4f46e5; margin-bottom: 15px"
                aria-hidden="true"
              ></i>
              <h3>Split PDF</h3>
              <p>
                Extract specific pages or split large PDFs into multiple smaller
                files.
              </p>
              <a
                href="/split"
                class="cta-button"
                style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
                >Split PDF</a
              >
            </div>
            <div class="feature-card">
              <i
                class="fas fa-compress"
                style="font-size: 40px; color: #4f46e5; margin-bottom: 15px"
                aria-hidden="true"
              ></i>
              <h3>Compress PDF</h3>
              <p>
                Reduce PDF file size to make it easier to email or upload
                online.
              </p>
              <a
                href="/compress-pdf"
                class="cta-button"
                style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
                >Compress PDF</a
              >
            </div>
            <div class="feature-card">
              <i
                class="fas fa-sync-alt"
                style="font-size: 40px; color: #4f46e5; margin-bottom: 15px"
                aria-hidden="true"
              ></i>
              <h3>Rotate PDF</h3>
              <p>
                Rotate pages in your PDF documents to the correct orientation.
              </p>
              <a
                href="/rotate"
                class="cta-button"
                style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
                >Rotate PDF</a
              >
            </div>
          </div>
        </div>
      </section>

      <!-- CTA Section -->
      <section
        class="hero"
        style="
          padding: 60px 20px;
          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        "
      >
        <div class="container">
          <h2 style="font-size: 32px; margin-bottom: 15px; color: white">
            Ready to Merge Your PDFs?
          </h2>
          <p style="margin-bottom: 25px; color: white">
            Start combining your PDF files now. Fast, secure, and completely
            free. No registration needed.
          </p>
          <a
            href="#main-content"
            class="cta-button"
            style="background: white; color: #667eea"
          >
            <i class="fas fa-arrow-up" aria-hidden="true"></i> Merge PDFs Now
          </a>
        </div>
      </section>
    </main>

    <!-- Footer -->
    <section id="footer-placeholder"></section>

    <!-- PDF-lib -->
    <script src="https://unpkg.com/pdf-lib/dist/pdf-lib.min.js"></script>

    <!-- JS -->
    <script src="./js/app.js"></script>
    <script>
      // Merge PDF
      const pdfInput = document.getElementById("pdfUpload");
      const fileList = document.getElementById("fileList");
      fileList.style.display = "none";
      const mergeBtn = document.getElementById("mergeBtn");
      const resultBtns = document.getElementById("resultBtns");
      const downloadBtn = document.getElementById("downloadBtn");
      const shareBtn = document.getElementById("shareBtn");
      const loaderIcon = mergeBtn.querySelector(".fa-spinner");
      const mergeIcon = document.getElementById("mergeIcon");
      const uploadSection = document.getElementById("uploadSection");
      const noteText = document.getElementById("noteText");
      const nopdf = document.getElementById("nopdf");
      nopdf.style.display = "none";
      const resetBtn = document.getElementById("resetBtn");
      const pdfPreview = document.getElementById("pdfPreview");
      const pdfFrame = document.getElementById("pdfFrame");
      const fileNameLink = document.getElementById("fileNameLink");
      const BACKEND_MERGE_URL = `${BACKEND_BASE_URL}/merge-pdf`;
      const MAX_FRONTEND_SIZE = 20 * 1024 * 1024; // 20MB

      let files = []; // store selected files

      // Helper function to render file list
      function renderFileList() {
        fileList.style.display = "block";
        fileList.innerHTML = "";
        files.forEach((file, index) => {
          const li = document.createElement("li");
          li.innerHTML = `<i class="fa fa-file-pdf pdf-icon" aria-hidden="true"></i> <span>${file.name}</span> <button class="delete-file" data-index="${index}" aria-label="Remove ${file.name}"><i class="fa fa-times" aria-hidden="true"></i></button>`;
          fileList.appendChild(li);
        });
        if (files.length > 0) {
          nopdf.style.display = "none";
        }
      }

      // Handle file selection
      pdfInput.addEventListener("change", () => {
        const newFiles = Array.from(pdfInput.files);

        // Avoid duplicates
        newFiles.forEach((file) => {
          if (
            !files.some((f) => f.name === file.name && f.size === file.size)
          ) {
            files.push(file);
          }
        });

        renderFileList();

        // Reset input so same file can be reselected from different folder
        pdfInput.value = "";
      });

      // Delete file
      fileList.addEventListener("click", (e) => {
        const deleteBtn = e.target.closest(".delete-file");
        if (deleteBtn) {
          const index = deleteBtn.dataset.index;
          files.splice(index, 1);
          if (files.length === 0) {
            fileList.style.display = "none";
          }
          renderFileList();
        }
      });

      // Merge PDFs
      mergeBtn.addEventListener("click", async () => {
        if (files.length < 2) {
          nopdf.style.display = "block";
          return;
        }

        loaderIcon.style.display = "inline-block";
        mergeIcon.style.display = "none";
        mergeBtn.disabled = true;

        try {
          const totalSize = files.reduce((sum, f) => sum + f.size, 0);
          let url;

          // Small files → Frontend merge
          if (totalSize <= MAX_FRONTEND_SIZE) {
            const mergedPdf = await PDFLib.PDFDocument.create();

            for (const file of files) {
              const pdf = await PDFLib.PDFDocument.load(
                await file.arrayBuffer(),
              );
              const pages = await mergedPdf.copyPages(
                pdf,
                pdf.getPageIndices(),
              );
              pages.forEach((p) => mergedPdf.addPage(p));
            }

            const blob = new Blob([await mergedPdf.save()], {
              type: "application/pdf",
            });
            url = URL.createObjectURL(blob);

            // Large files → Backend merge
          } else {
            const formData = new FormData();
            files.forEach((f) => formData.append("files", f));

            const response = await fetch(BACKEND_MERGE_URL, {
              method: "POST",
              body: formData,
            });

            if (!response.ok) throw new Error("Backend merge failed");

            const blob = await response.blob();
            url = URL.createObjectURL(blob);
          }

          // UI updates
          fileList.style.display = "none";
          mergeBtn.style.display = "none";
          uploadSection.style.display = "none";
          noteText.style.display = "none";
          loaderIcon.style.display = "none";
          mergeIcon.style.display = "inline-block";
          resultBtns.style.display = "block";

          downloadBtn.href = url;
          downloadBtn.download = "merged.pdf";
          shareBtn.href = url;

          const isSmallDevice = window.matchMedia("(max-width: 768px)").matches;

          if (!isSmallDevice) {
            pdfFrame.src = url;
            pdfPreview.style.display = "block";
          }

          fileNameLink.onclick = (e) => {
            e.preventDefault();
            isSmallDevice
              ? window.open(url, "_blank")
              : pdfPreview.scrollIntoView({ behavior: "smooth" });
          };
        } catch (err) {
          alert("Error merging PDFs: " + err.message);
          mergeBtn.disabled = false;
          loaderIcon.style.display = "none";
          mergeIcon.style.display = "inline-block";
        }
      });

      resetBtn.addEventListener("click", () => {
        files = [];
        fileList.innerHTML = "";
        fileList.style.display = "none";

        uploadSection.style.display = "block";
        mergeBtn.style.display = "inline-flex";

        resultBtns.style.display = "none";
        noteText.style.display = "block";

        // Proper iframe cleanup
        pdfFrame.src = "";
        pdfPreview.style.display = "none";
        mergeBtn.disabled = false;
        window.scrollTo({ top: 0, behavior: "smooth" });
      });

      // Keyboard accessibility for upload label
      document
        .querySelector(".upload-label")
        .addEventListener("keypress", (e) => {
          if (e.key === "Enter" || e.key === " ") {
            e.preventDefault();
            pdfInput.click();
          }
        });
    </script>
  </body>
</html>
