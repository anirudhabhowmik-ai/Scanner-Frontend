<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <!-- Primary Meta Tags -->
    <title>
      Organize PDF Pages Online Free - Reorder, Rotate & Arrange PDFs | NextoPDF
    </title>
    <meta
      name="title"
      content="Organize PDF Pages Online Free - Reorder, Rotate & Arrange PDFs | NextoPDF"
    />
    <meta
      name="description"
      content="Organize PDF pages online for free. Drag and drop to reorder pages, rotate, delete unwanted pages, and add blank pages. Rearrange PDF documents easily with visual page preview."
    />
    <meta
      name="keywords"
      content="organize PDF pages, reorder PDF, rearrange PDF, rotate PDF pages, delete PDF pages, PDF page organizer, sort PDF pages, reorganize PDF online free"
    />
    <meta name="author" content="NextoPDF" />
    <meta
      name="robots"
      content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1"
    />
    <meta name="google-adsense-account" content="ca-pub-5797619165090350" />

    <!-- Canonical URL -->
    <link rel="canonical" href="https://nextopdf.com/organize" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://nextopdf.com/organize" />
    <meta
      property="og:title"
      content="Organize PDF Pages Online Free - Reorder, Rotate & Arrange PDFs | NextoPDF"
    />
    <meta
      property="og:description"
      content="Organize PDF pages online for free. Drag and drop to reorder pages, rotate, delete unwanted pages, and add blank pages. Easy visual page preview."
    />
    <meta
      property="og:image"
      content="https://nextopdf.com/images/og-image.png"
    />
    <meta property="og:site_name" content="NextoPDF" />
    <meta property="og:locale" content="en_US" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://nextopdf.com/organize" />
    <meta
      name="twitter:title"
      content="Organize PDF Pages Online Free - Reorder, Rotate & Arrange PDFs | NextoPDF"
    />
    <meta
      name="twitter:description"
      content="Organize PDF pages online for free. Drag and drop to reorder pages, rotate, delete unwanted pages, and add blank pages."
    />
    <meta
      name="twitter:image"
      content="https://nextopdf.com/images/twitter-card.png"
    />

    <!-- Structured Data / Schema.org -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "NextoPDF - Organize PDF Pages",
        "url": "https://nextopdf.com/organize",
        "description": "Free online tool to organize, reorder, rotate, and rearrange PDF pages with drag-and-drop interface",
        "applicationCategory": "UtilitiesApplication",
        "operatingSystem": "Any",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        },
        "featureList": "Reorder pages, Rotate pages, Delete pages, Add blank pages, Drag and drop interface, Visual page preview"
      }
    </script>

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&family=Inter:wght@400;500&display=swap"
      rel="stylesheet"
    />

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <!-- Favicon -->
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./images/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="./images/favicon-16x16.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="./images/apple-touch-icon.png"
    />

    <!-- Main CSS -->
    <link rel="stylesheet" href="./css/style.css" />

    <style>
      .pages-grid {
        display: grid;
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
        margin-top: 30px;
        padding: 20px;
        background: white;
        border-radius: 12px;
        border: 2px dashed #e5e7eb;
        min-height: 200px;
        position: relative;
      }

      .pages-grid:empty::after {
        content: "Upload a PDF to see pages here";
        position: absolute;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        color: #9ca3af;
        font-size: 16px;
        text-align: center;
      }

      .page-card {
        position: relative;
        background: #fff;
        border-radius: 12px;
        padding: 12px;
        cursor: grab;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        transition:
          transform 0.2s,
          box-shadow 0.2s;
        border: 2px solid transparent;
        overflow: visible;
      }

      .page-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 20px rgba(0, 0, 0, 0.12);
        border-color: #4f46e5;
      }

      .page-card.dragging {
        opacity: 0.5;
        cursor: grabbing;
      }

      .page-card.drag-over {
        border-color: #4f46e5;
        background: #f0f4ff;
      }

      .page-number {
        position: absolute;
        top: -24px;
        left: 8px;
        background: #4f46e5;
        color: white;
        padding: 4px 10px;
        border-radius: 6px;
        font-size: 12px;
        font-weight: 600;
        z-index: 10;
      }

      .page-canvas-wrapper {
        position: relative;
        width: 100%;
        overflow: visible;
        border-radius: 8px;
        background: #f9fafb;
        display: flex;
        align-items: center;
        justify-content: center;
        min-height: 200px;
      }

      .page-card canvas {
        width: 100%;
        height: auto !important;
        display: block;
        border-radius: 8px;
        transition: transform 0.3s ease;
      }

      .blank-page {
        width: 100%;
        height: auto;
        min-height: 400px;
        aspect-ratio: 8.5 / 11;
        background: white;
        border: 2px dashed #cbd5e1;
        display: flex;
        align-items: center;
        justify-content: center;
        color: #9ca3af;
        font-weight: 600;
        border-radius: 8px;
        transition: transform 0.3s ease;
      }

      .page-actions {
        display: flex;
        justify-content: space-around;
        margin-top: 12px;
        gap: 8px;
      }

      .page-actions button {
        background: #f3f4f6;
        border: none;
        cursor: pointer;
        color: #4b5563;
        font-size: 14px;
        padding: 8px 4px;
        border-radius: 8px;
        transition: all 0.2s;
        flex: 1;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .page-actions button:hover {
        background: #e5e7eb;
        transform: scale(1.05);
      }

      .page-actions button.delete:hover {
        background: #fee2e2;
        color: #dc2626;
      }

      .page-actions button.rotate:hover {
        background: #dbeafe;
        color: #2563eb;
      }

      .page-actions button.add:hover {
        background: #d1fae5;
        color: #059669;
      }

      .btn-loading .btn-spinner {
        display: inline-block;
        margin-right: 8px;
      }

      .btn-loading .btn-text {
        display: none;
      }

      .btn-spinner {
        display: none;
      }

      .result-btns-container {
        display: flex;
        gap: 12px;
        justify-content: center;
        flex-wrap: wrap;
        margin-top: 20px;
      }

      @media (max-width: 1024px) {
        .pages-grid {
          grid-template-columns: repeat(2, 1fr);
          gap: 18px;
        }
      }

      @media (max-width: 768px) {
        .pages-grid {
          grid-template-columns: repeat(1, 1fr);
          gap: 15px;
          padding: 15px;
        }
        .result-btns-container {
          flex-direction: column;
        }
        .blank-page {
          min-height: 300px;
        }
      }

      @media (max-width: 480px) {
        .pages-grid {
          grid-template-columns: repeat(1, 1fr);
          gap: 12px;
        }
        .blank-page {
          min-height: 250px;
        }
      }

      .btn-container {
        position: fixed;
        bottom: 0;
        background: #fff;
        border-top: 4px solid #1d0cff;
        width: 100%;
        padding: 20px 0;
        z-index: 999;
        box-shadow: 0 -6px 20px rgba(0, 0, 0, 0.15);
        display: none;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }
    </style>

    <!-- Google AdSense (Replace with your AdSense ID) -->
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5797619165090350"
      crossorigin="anonymous"
    ></script>
  </head>

  <body>
    <section id="header-placeholder"></section>

    <main>
      <section class="merge-tool" role="main">
        <div class="container">
          <h1>
            NextoPDF - Organize PDF Pages Online - Reorder, Rotate & Rearrange
          </h1>
          <p>
            NextoPDF - Drag & drop pages to reorder, rotate any page, delete
            unwanted pages, or add blank pages. Visual interface makes PDF
            organization effortless.
          </p>

          <div class="upload-section">
            <div id="uploadSection">
              <label class="upload-label" for="pdfUpload">
                <i class="fa fa-upload" aria-hidden="true"></i> Choose PDF files
              </label>
              <input
                type="file"
                id="pdfUpload"
                accept=".pdf"
                multiple
                aria-label="Upload PDF files to organize"
              />
            </div>

            <ul
              id="fileList"
              class="file-list"
              style="display: none"
              role="list"
            ></ul>

            <div
              id="pagesGrid"
              class="pages-grid"
              style="display: none"
              role="region"
              aria-label="PDF pages organizer"
            ></div>

            <div class="btn-container" id="btn-container">
              <button
                id="organizeBtn"
                class="cta-button"
                aria-label="Organize PDF pages"
              >
                <span class="btn-spinner" aria-hidden="true">
                  <i class="fa fa-spinner fa-spin"></i>
                </span>
                <span class="btn-text"
                  ><i class="fa fa-layer-group" aria-hidden="true"></i
                ></span>
                Organize PDF
              </button>

              <p
                class="error-text"
                id="errorMsg"
                style="display: none"
                role="alert"
              ></p>
            </div>

            <div id="resultBtns" style="display: none; margin-top: 30px">
              <div class="result-card">
                <i class="fa fa-file-pdf" aria-hidden="true"></i>
              </div>

              <p class="file-name">
                <a href="#" id="fileNameLink">organized.pdf</a>
              </p>

              <div class="result-btns-container">
                <a
                  id="downloadBtn"
                  href="#"
                  class="cta-button"
                  download
                  aria-label="Download organized PDF"
                >
                  <i class="fa fa-download" aria-hidden="true"></i> Download
                </a>
                <a
                  id="shareBtn"
                  href="#"
                  class="cta-button"
                  aria-label="Share organized PDF"
                >
                  <i class="fa fa-share-alt" aria-hidden="true"></i> Share
                </a>
                <button
                  id="resetBtn"
                  class="secondary-btn"
                  aria-label="Organize another PDF"
                >
                  <i class="fa fa-rotate-right" aria-hidden="true"></i> Organize
                  Another PDF
                </button>
              </div>
            </div>

            <p class="note" id="noteText">
              Supported format: PDF. Select one file at a time, or use Ctrl
              (desktop only) to select multiple files.
            </p>
          </div>

          <!-- Show Preview -->
          <div id="pdfPreview" style="display: none; margin-top: 30px">
            <h2>Preview Organized PDF</h2>
            <iframe
              id="pdfFrame"
              width="100%"
              height="600"
              style="border-radius: 12px; border: 1px solid #e5e7eb"
              title="PDF Preview"
            ></iframe>
          </div>
        </div>
      </section>

      <!-- How It Works Section -->
      <section class="benefits" style="background: white">
        <div class="container">
          <h2>How to Organize PDF Pages</h2>
          <div class="feature-grid">
            <div class="feature-card">
              <div
                style="
                  font-size: 48px;
                  color: #fbbf24;
                  font-weight: bold;
                  margin-bottom: 10px;
                "
                aria-hidden="true"
              >
                1
              </div>
              <h3>Upload Your PDF</h3>
              <p>
                Upload one or multiple PDF files. All pages will be displayed as
                visual thumbnails for easy organization.
              </p>
            </div>
            <div class="feature-card">
              <div
                style="
                  font-size: 48px;
                  color: #fbbf24;
                  font-weight: bold;
                  margin-bottom: 10px;
                "
                aria-hidden="true"
              >
                2
              </div>
              <h3>Arrange Pages</h3>
              <p>
                Drag and drop pages to reorder, click rotate to adjust
                orientation, delete unwanted pages, or add blank pages anywhere.
              </p>
            </div>
            <div class="feature-card">
              <div
                style="
                  font-size: 48px;
                  color: #fbbf24;
                  font-weight: bold;
                  margin-bottom: 10px;
                "
                aria-hidden="true"
              >
                3
              </div>
              <h3>Download Organized PDF</h3>
              <p>
                Download your newly organized PDF with pages in perfect order.
                All changes are applied to your final document.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Why Organize PDFs Section -->
      <section class="features" style="background: #f9fafb">
        <div class="container">
          <h2>Why Organize PDF Pages?</h2>
          <div style="max-width: 900px; margin: 0 auto; text-align: left">
            <p style="color: #555; line-height: 1.8; margin-bottom: 30px">
              Organizing PDF pages helps save time, improve clarity, and
              maintain professionalism in both personal and work documents.
              Instead of scrolling endlessly, you can structure PDFs efficiently
              to serve your exact needs.
            </p>

            <h3 style="color: #1e3a8a; margin-bottom: 15px; margin-top: 35px">
              Common Scenarios Requiring PDF Organization
            </h3>
            <ul
              style="
                color: #555;
                line-height: 1.8;
                margin-bottom: 25px;
                padding-left: 25px;
              "
            >
              <li style="margin-bottom: 10px">
                <strong>Scanned Documents:</strong> Fix page order for
                multi-page scans without rescanning.
              </li>
              <li style="margin-bottom: 10px">
                <strong>Merging PDFs:</strong> Combine reports or presentations
                in logical order.
              </li>
              <li style="margin-bottom: 10px">
                <strong>Presentations:</strong> Reorder slides or remove
                duplicates for professional delivery.
              </li>
              <li style="margin-bottom: 10px">
                <strong>Reports & Portfolios:</strong> Assemble content from
                multiple sources neatly and clearly.
              </li>
            </ul>

            <h3 style="color: #1e3a8a; margin-bottom: 15px; margin-top: 35px">
              Visual Page Organization Benefits
            </h3>
            <p style="color: #555; line-height: 1.8; margin-bottom: 25px">
              Seeing page thumbnails instead of just numbers makes it easier to
              spot duplicates, rotation issues, or missing content. Visual
              feedback prevents mistakes and helps you organize large documents
              with confidence.
            </p>

            <h3 style="color: #1e3a8a; margin-bottom: 15px; margin-top: 35px">
              Drag & Drop Interface Advantages
            </h3>
            <p style="color: #555; line-height: 1.8; margin-bottom: 25px">
              Simply click and drag pages to reorder. The interface
              automatically adjusts all pages, making organization fast,
              intuitive, and flexible even for hundreds of pages.
            </p>
          </div>
        </div>
      </section>

      <!-- Real-Life Use Cases Section (Unique Replacement for FAQ) -->
      <section class="features" style="background: white; padding: 60px 20px">
        <div class="container">
          <h2>Real-Life Use Cases & Examples</h2>
          <p
            style="
              max-width: 900px;
              margin: 0 auto 40px;
              color: #555;
              line-height: 1.8;
              text-align: center;
            "
          >
            Discover how organizing PDFs can make your workflow smarter, faster,
            and more professional. These real-world examples show the practical
            benefits of page arrangement.
          </p>
          <div
            style="
              max-width: 1000px;
              margin: 0 auto;
              display: flex;
              flex-wrap: wrap;
              gap: 20px;
              justify-content: center;
            "
          >
            <!-- Card 1 -->
            <div
              style="
                background: #f9fafb;
                border-radius: 12px;
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
                padding: 25px;
                flex: 1 1 280px;
                min-width: 280px;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 10px">
                Professional Reports
              </h3>
              <p style="color: #555; line-height: 1.6">
                Quickly extract chapters or sections to share with clients or
                colleagues, keeping the original report intact and professional.
              </p>
            </div>

            <!-- Card 2 -->
            <div
              style="
                background: #f9fafb;
                border-radius: 12px;
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
                padding: 25px;
                flex: 1 1 280px;
                min-width: 280px;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 10px">
                Legal & Contract Documents
              </h3>
              <p style="color: #555; line-height: 1.6">
                Extract sections, exhibits, or clauses for review or
                distribution while keeping original agreements safe.
              </p>
            </div>

            <!-- Card 3 -->
            <div
              style="
                background: #f9fafb;
                border-radius: 12px;
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
                padding: 25px;
                flex: 1 1 280px;
                min-width: 280px;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 10px">
                Academic Research
              </h3>
              <p style="color: #555; line-height: 1.6">
                Students and researchers can compile articles, lecture notes, or
                thesis chapters in logical order for focused study or
                presentations.
              </p>
            </div>

            <!-- Card 4 -->
            <div
              style="
                background: #f9fafb;
                border-radius: 12px;
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
                padding: 25px;
                flex: 1 1 280px;
                min-width: 280px;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 10px">
                Training Materials
              </h3>
              <p style="color: #555; line-height: 1.6">
                Organize manuals, slides, or guides for workshops and training,
                ensuring lessons flow logically and are easy to follow.
              </p>
            </div>

            <!-- Card 5 -->
            <div
              style="
                background: #f9fafb;
                border-radius: 12px;
                box-shadow: 0 4px 10px rgba(0, 0, 0, 0.08);
                padding: 25px;
                flex: 1 1 280px;
                min-width: 280px;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 10px">
                Portfolios & Presentations
              </h3>
              <p style="color: #555; line-height: 1.6">
                Select the best pages from large PDFs to build professional
                portfolios or presentations, arranged for maximum impact.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Related Tools Section -->
      <section class="benefits" style="background: white; padding-top: 60px">
        <div class="container">
          <h2>Related PDF Organization Tools</h2>
          <div class="feature-grid">
            <div class="feature-card">
              <i
                class="fas fa-object-group"
                style="font-size: 40px; color: #4f46e5; margin-bottom: 15px"
                aria-hidden="true"
              ></i>
              <h3>Merge PDF</h3>
              <p>
                Combine multiple PDF files into one document. Perfect for
                bringing together organized pages from different sources.
              </p>
              <a
                href="/merge"
                class="cta-button"
                style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
                >Use Tool</a
              >
            </div>
            <div class="feature-card">
              <i
                class="fas fa-cut"
                style="font-size: 40px; color: #4f46e5; margin-bottom: 15px"
                aria-hidden="true"
              ></i>
              <h3>Split PDF</h3>
              <p>
                Divide PDFs into separate files by page ranges. Extract specific
                sections after organizing your document.
              </p>
              <a
                href="/split"
                class="cta-button"
                style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
                >Use Tool</a
              >
            </div>
            <div class="feature-card">
              <i
                class="fas fa-sync-alt"
                style="font-size: 40px; color: #4f46e5; margin-bottom: 15px"
                aria-hidden="true"
              ></i>
              <h3>Rotate PDF</h3>
              <p>
                Rotate all pages in a PDF at once. Use after organizing to fix
                orientation of entire documents.
              </p>
              <a
                href="/rotate"
                class="cta-button"
                style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
                >Use Tool</a
              >
            </div>
            <div class="feature-card">
              <i
                class="fas fa-trash-alt"
                style="font-size: 40px; color: #4f46e5; margin-bottom: 15px"
                aria-hidden="true"
              ></i>
              <h3>Delete Pages</h3>
              <p>
                Remove specific pages or page ranges from PDFs. Streamlined tool
                for bulk page deletion.
              </p>
              <a
                href="/delete"
                class="cta-button"
                style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
                >Use Tool</a
              >
            </div>
            <div class="feature-card">
              <i
                class="fas fa-file-export"
                style="font-size: 40px; color: #4f46e5; margin-bottom: 15px"
                aria-hidden="true"
              ></i>
              <h3>Extract Pages</h3>
              <p>
                Create new PDFs from specific pages after organizing. Pull out
                sections while keeping the original intact.
              </p>
              <a
                href="/extract"
                class="cta-button"
                style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
                >Use Tool</a
              >
            </div>
            <div class="feature-card">
              <i
                class="fas fa-compress"
                style="font-size: 40px; color: #f59e0b; margin-bottom: 15px"
                aria-hidden="true"
              ></i>
              <h3>Compress PDF</h3>
              <p>
                Reduce file size of your organized PDFs for easier sharing and
                storage while maintaining quality.
              </p>
              <a
                href="/compress-pdf"
                class="cta-button"
                style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
                >Use Tool</a
              >
            </div>
          </div>
        </div>
      </section>

      <!-- Time-Saving Automation & Smart Features Section -->
      <section class="features" style="background: #f9fafb; padding: 60px 20px">
        <div class="container">
          <h2>Time-Saving Automation & Smart Features</h2>
          <p
            style="
              max-width: 900px;
              margin: 0 auto 40px;
              color: #555;
              line-height: 1.8;
              text-align: center;
            "
          >
            Organizing PDFs doesnâ€™t have to be manual. With smart features, you
            can streamline repetitive tasks, quickly fix issues, and save hours
            of work.
          </p>

          <div
            style="
              max-width: 1000px;
              margin: 0 auto;
              display: flex;
              flex-wrap: wrap;
              gap: 20px;
              justify-content: center;
            "
          >
            <!-- Card 1 -->
            <div
              style="
                background: white;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
                padding: 25px;
                flex: 1 1 280px;
                min-width: 280px;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 10px">
                Auto-Detect Blank Pages
              </h3>
              <p style="color: #555; line-height: 1.6">
                Automatically identify and remove blank pages from scanned PDFs.
                Save time and ensure your documents are concise without manual
                review.
              </p>
            </div>

            <!-- Card 2 -->
            <div
              style="
                background: white;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
                padding: 25px;
                flex: 1 1 280px;
                min-width: 280px;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 10px">
                Smart Page Suggestions
              </h3>
              <p style="color: #555; line-height: 1.6">
                Get intelligent suggestions for page order, based on content
                analysis. Quickly arrange documents with logical flow and
                minimal effort.
              </p>
            </div>

            <!-- Card 3 -->
            <div
              style="
                background: white;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
                padding: 25px;
                flex: 1 1 280px;
                min-width: 280px;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 10px">
                Batch Rotate & Adjust
              </h3>
              <p style="color: #555; line-height: 1.6">
                Rotate multiple pages at once, fix mixed orientations, and align
                content automatically. Perfect for large documents with
                inconsistent scans.
              </p>
            </div>

            <!-- Card 4 -->
            <div
              style="
                background: white;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
                padding: 25px;
                flex: 1 1 280px;
                min-width: 280px;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 10px">
                Merge & Split with Intelligence
              </h3>
              <p style="color: #555; line-height: 1.6">
                Combine multiple PDFs or extract sections intelligently.
                Automatically detect document boundaries and create organized
                files in minutes.
              </p>
            </div>

            <!-- Card 5 -->
            <div
              style="
                background: white;
                border-radius: 12px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
                padding: 25px;
                flex: 1 1 280px;
                min-width: 280px;
              "
            >
              <h3 style="color: #1e3a8a; margin-bottom: 10px">
                Secure & Private Processing
              </h3>
              <p style="color: #555; line-height: 1.6">
                All automation happens locally or in a secure environment. Your
                documents remain private, with no data stored or shared.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- CTA Section -->
      <section class="hero">
        <div class="container">
          <h2 style="font-size: 32px; margin-bottom: 15px">
            Ready to Organize Your PDFs?
          </h2>
          <p style="margin-bottom: 25px">
            Drag, drop, and arrange pages in seconds. Visual interface makes PDF
            organization effortless.
          </p>
          <a
            href="#"
            class="cta-button"
            onclick="
              window.scrollTo({ top: 0, behavior: 'smooth' });
              return false;
            "
            aria-label="Scroll to top to organize PDF"
          >
            <i class="fa fa-layer-group" aria-hidden="true"></i> Start
            Organizing Now
          </a>
        </div>
      </section>
    </main>

    <section id="footer-placeholder"></section>

    <script src="./js/app.js"></script>

    <!-- pdf.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>

    <script>
      const BACKEND_ORGANIZE_URL = `${BACKEND_BASE_URL}/organize-pdf`;

      const pdfUpload = document.getElementById("pdfUpload");
      const fileList = document.getElementById("fileList");
      const pagesGrid = document.getElementById("pagesGrid");
      const organizeBtn = document.getElementById("organizeBtn");
      const downloadBtn = document.getElementById("downloadBtn");
      const shareBtn = document.getElementById("shareBtn");
      const resetBtn = document.getElementById("resetBtn");
      const errorMsg = document.getElementById("errorMsg");
      const uploadSection = document.getElementById("uploadSection");
      const resultBtns = document.getElementById("resultBtns");
      const noteText = document.getElementById("noteText");
      const pdfPreview = document.getElementById("pdfPreview");
      const pdfFrame = document.getElementById("pdfFrame");
      const fileNameLink = document.getElementById("fileNameLink");
      const loaderIcon = organizeBtn.querySelector(".btn-spinner");
      const btnContainer = document.getElementById("btn-container");

      let files = [];
      let draggedElement = null;
      let allPages = [];

      pdfjsLib.GlobalWorkerOptions.workerSrc =
        "https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.worker.min.js";

      function clearError() {
        errorMsg.textContent = "";
        errorMsg.style.display = "none";
      }

      function renderFileList() {
        fileList.style.display = "block";
        fileList.innerHTML = "";
        files.forEach((file, index) => {
          const li = document.createElement("li");
          li.innerHTML = `<i class="fa fa-file-pdf pdf-icon"></i> <span>${file.name}</span> <i class="fa fa-times delete-file" data-index="${index}" role="button" aria-label="Remove ${file.name}" tabindex="0"></i>`;
          fileList.appendChild(li);
        });
      }

      pdfUpload.addEventListener("change", async () => {
        clearError();
        const newFiles = Array.from(pdfUpload.files);

        newFiles.forEach((file) => {
          if (
            !files.some((f) => f.name === file.name && f.size === file.size)
          ) {
            files.push(file);
          }
        });

        renderFileList();
        pdfUpload.value = "";

        pagesGrid.innerHTML = "";
        pagesGrid.style.display = "grid";
        allPages = [];
        btnContainer.style.display = "flex";

        try {
          for (let fileIndex = 0; fileIndex < files.length; fileIndex++) {
            const file = files[fileIndex];
            const pdf = await pdfjsLib.getDocument(URL.createObjectURL(file))
              .promise;

            for (let i = 1; i <= pdf.numPages; i++) {
              await renderPage(pdf, i, allPages.length, fileIndex);
              allPages.push({ fileIndex, pageIndex: i - 1 });
            }
          }
        } catch (error) {
          errorMsg.textContent = "Error loading PDF: " + error.message;
          errorMsg.style.display = "block";
        }
      });

      fileList.addEventListener("click", async (e) => {
        if (e.target.classList.contains("delete-file")) {
          const index = parseInt(e.target.dataset.index);
          files.splice(index, 1);

          if (files.length === 0) {
            fileList.style.display = "none";
            pagesGrid.innerHTML = "";
            pagesGrid.style.display = "none";
            allPages = [];
          } else {
            renderFileList();
            pagesGrid.innerHTML = "";
            allPages = [];

            for (let fileIndex = 0; fileIndex < files.length; fileIndex++) {
              const file = files[fileIndex];
              const pdf = await pdfjsLib.getDocument(URL.createObjectURL(file))
                .promise;

              for (let i = 1; i <= pdf.numPages; i++) {
                await renderPage(pdf, i, allPages.length, fileIndex);
                allPages.push({ fileIndex, pageIndex: i - 1 });
              }
            }
          }
          btnContainer.style.display = "none";
          clearError();
        }
      });

      async function renderPage(pdf, pageNum, globalIndex, fileIndex) {
        const page = await pdf.getPage(pageNum);
        const viewport = page.getViewport({ scale: 1 });

        let maxWidth;
        if (window.innerWidth < 768) {
          maxWidth = window.innerWidth - 80;
        } else {
          maxWidth = (window.innerWidth - 140) / 2;
        }

        const displayScale = maxWidth / viewport.width;
        const renderScale = displayScale * (window.devicePixelRatio || 2);
        const scaledViewport = page.getViewport({ scale: renderScale });

        const canvas = document.createElement("canvas");
        const context = canvas.getContext("2d");

        canvas.width = scaledViewport.width;
        canvas.height = scaledViewport.height;

        await page.render({
          canvasContext: context,
          viewport: scaledViewport,
        }).promise;

        canvas.style.width = "100%";
        canvas.style.height = "auto";

        const card = createPageCard(
          canvas,
          globalIndex,
          pageNum,
          fileIndex,
          false,
        );
        pagesGrid.appendChild(card);
      }

      function createPageCard(
        content,
        globalIndex,
        pageNum,
        fileIndex,
        isBlank,
      ) {
        const card = document.createElement("div");
        card.className = "page-card";
        card.draggable = true;
        card.dataset.type = isBlank ? "blank" : "page";
        card.dataset.globalIndex = globalIndex ?? "";
        card.dataset.fileIndex = fileIndex ?? "";
        card.dataset.rotation = "0";
        card.setAttribute("role", "article");
        card.setAttribute(
          "aria-label",
          isBlank ? "Blank page" : `Page ${pageNum}`,
        );

        if (!isBlank) {
          const badge = document.createElement("div");
          badge.className = "page-number";
          badge.textContent = `Page ${pageNum}`;
          badge.setAttribute("aria-hidden", "true");
          card.appendChild(badge);
        }

        const wrapper = document.createElement("div");
        wrapper.className = "page-canvas-wrapper";

        if (isBlank) {
          const blankDiv = document.createElement("div");
          blankDiv.className = "blank-page";
          blankDiv.innerHTML =
            '<i class="fa fa-file" style="font-size:24px;" aria-hidden="true"></i>';
          wrapper.appendChild(blankDiv);

          setTimeout(() => {
            const lastPdfCanvas = pagesGrid.querySelector(
              '.page-card[data-type="page"] canvas',
            );
            if (lastPdfCanvas) {
              blankDiv.style.height = lastPdfCanvas.offsetHeight + "px";
              blankDiv.style.minHeight = lastPdfCanvas.offsetHeight + "px";
            }
          }, 100);
        } else {
          wrapper.appendChild(content);
        }

        card.appendChild(wrapper);

        const actions = document.createElement("div");
        actions.className = "page-actions";

        const rotateBtn = document.createElement("button");
        rotateBtn.className = "rotate";
        rotateBtn.innerHTML =
          '<i class="fa fa-rotate-right" aria-hidden="true"></i>';
        rotateBtn.setAttribute("aria-label", "Rotate page");
        rotateBtn.onclick = (e) => {
          e.stopPropagation();
          const currentRotation = Number(card.dataset.rotation);
          const newRotation = (currentRotation + 90) % 360;
          card.dataset.rotation = newRotation;

          const contentElement = wrapper.querySelector("canvas, .blank-page");
          if (contentElement) {
            const isVertical = newRotation === 90 || newRotation === 270;
            const scale = isVertical ? 0.7 : 1;
            contentElement.style.transform = `rotate(${newRotation}deg) scale(${scale})`;
          }
        };

        const addBlankBtn = document.createElement("button");
        addBlankBtn.className = "add";
        addBlankBtn.innerHTML = '<i class="fa fa-plus" aria-hidden="true"></i>';
        addBlankBtn.setAttribute(
          "aria-label",
          "Add blank page after this page",
        );
        addBlankBtn.onclick = (e) => {
          e.stopPropagation();
          const blankCanvas = document.createElement("div");
          const blankCard = createPageCard(blankCanvas, null, null, null, true);
          card.parentNode.insertBefore(blankCard, card.nextSibling);
          updatePageNumbers();
        };

        const delBtn = document.createElement("button");
        delBtn.className = "delete";
        delBtn.innerHTML = '<i class="fa fa-trash" aria-hidden="true"></i>';
        delBtn.setAttribute("aria-label", "Delete this page");
        delBtn.onclick = (e) => {
          e.stopPropagation();
          card.remove();
          updatePageNumbers();
        };

        actions.append(rotateBtn, addBlankBtn, delBtn);
        card.appendChild(actions);

        setupDragAndDrop(card);
        return card;
      }

      function setupDragAndDrop(card) {
        card.addEventListener("dragstart", (e) => {
          draggedElement = card;
          card.classList.add("dragging");
          e.dataTransfer.effectAllowed = "move";
        });

        card.addEventListener("dragend", () => {
          card.classList.remove("dragging");
          document
            .querySelectorAll(".page-card")
            .forEach((c) => c.classList.remove("drag-over"));
          draggedElement = null;
          updatePageNumbers();
        });

        card.addEventListener("dragover", (e) => {
          e.preventDefault();
          if (!draggedElement || draggedElement === card) return;

          const afterElement = getDragAfterElement(pagesGrid, e.clientY);

          if (afterElement == null) {
            pagesGrid.appendChild(draggedElement);
          } else {
            pagesGrid.insertBefore(draggedElement, afterElement);
          }
        });

        card.addEventListener("dragenter", (e) => {
          e.preventDefault();
          if (draggedElement && draggedElement !== card) {
            card.classList.add("drag-over");
          }
        });

        card.addEventListener("dragleave", () => {
          card.classList.remove("drag-over");
        });
      }

      function getDragAfterElement(container, y) {
        const draggableElements = [
          ...container.querySelectorAll(".page-card:not(.dragging)"),
        ];

        return draggableElements.reduce(
          (closest, child) => {
            const box = child.getBoundingClientRect();
            const offset = y - box.top - box.height / 2;

            if (offset < 0 && offset > closest.offset) {
              return { offset: offset, element: child };
            } else {
              return closest;
            }
          },
          { offset: Number.NEGATIVE_INFINITY },
        ).element;
      }

      function updatePageNumbers() {
        const cards = pagesGrid.querySelectorAll(".page-card");
        let pageCount = 1;
        cards.forEach((card) => {
          const badge = card.querySelector(".page-number");
          if (badge && card.dataset.type === "page") {
            badge.textContent = `Page ${pageCount}`;
            pageCount++;
          }
        });
      }

      organizeBtn.addEventListener("click", async () => {
        clearError();

        if (files.length === 0) {
          errorMsg.textContent = "Please upload at least one PDF file";
          errorMsg.style.display = "block";
          return;
        }

        const cards = [...pagesGrid.children];

        if (cards.length === 0) {
          errorMsg.textContent = "No pages to organize";
          errorMsg.style.display = "block";
          return;
        }

        const layout = cards.map((card) => {
          if (card.dataset.type === "blank") {
            return {
              type: "blank",
              rotation: Number(card.dataset.rotation),
            };
          } else {
            return {
              type: "page",
              fileIndex: Number(card.dataset.fileIndex),
              pageIndex: Number(card.dataset.globalIndex),
              rotation: Number(card.dataset.rotation),
            };
          }
        });

        const formData = new FormData();
        files.forEach((f) => formData.append("files", f));
        formData.append("layout", JSON.stringify(layout));

        organizeBtn.disabled = true;
        organizeBtn.classList.add("btn-loading");
        loaderIcon.style.display = "inline-block";

        try {
          const res = await fetch(BACKEND_ORGANIZE_URL, {
            method: "POST",
            body: formData,
          });

          if (!res.ok) {
            const errorData = await res.json();
            throw new Error(errorData.error || "Failed to organize PDF");
          }

          const blob = await res.blob();
          const url = URL.createObjectURL(blob);

          downloadBtn.href = url;
          downloadBtn.download = "organized.pdf";
          shareBtn.href = url;

          uploadSection.style.display = "none";
          fileList.style.display = "none";
          pagesGrid.style.display = "none";
          organizeBtn.style.display = "none";
          noteText.style.display = "none";
          resultBtns.style.display = "block";

          const isSmallDevice = window.matchMedia("(max-width: 768px)").matches;

          if (!isSmallDevice) {
            pdfFrame.src = url;
            pdfPreview.style.display = "block";
          }

          fileNameLink.onclick = (e) => {
            e.preventDefault();
            isSmallDevice
              ? window.open(url, "_blank")
              : pdfPreview.scrollIntoView({ behavior: "smooth" });
          };
          window.scrollTo({ top: 0, behavior: "smooth" });
          btnContainer.style.display = "none";
        } catch (error) {
          errorMsg.textContent = "Error: " + error.message;
          errorMsg.style.display = "block";
        } finally {
          organizeBtn.disabled = false;
          organizeBtn.classList.remove("btn-loading");
          loaderIcon.style.display = "none";
        }
      });

      resetBtn.addEventListener("click", () => {
        clearError();
        files = [];
        pdfUpload.value = "";
        uploadSection.style.display = "block";
        fileList.innerHTML = "";
        fileList.style.display = "none";
        pagesGrid.innerHTML = "";
        pagesGrid.style.display = "none";
        organizeBtn.style.display = "inline-flex";
        organizeBtn.disabled = false;
        resultBtns.style.display = "none";
        noteText.style.display = "block";
        organizeBtn.classList.remove("btn-loading");
        loaderIcon.style.display = "none";
        pdfFrame.src = "";
        pdfPreview.style.display = "none";
        window.scrollTo({ top: 0, behavior: "smooth" });
      });
    </script>
  </body>
</html>
