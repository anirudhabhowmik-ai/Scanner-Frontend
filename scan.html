<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>
      Free Online Document Scanner - Scan to PDF with OCR | NextoPDF
    </title>
    <meta
      name="description"
      content="Free online document scanner with automatic edge detection and OCR. Scan documents, receipts, business cards, and convert to PDF or JPG. No app download required."
    />
    <meta
      name="keywords"
      content="document scanner online, scan to PDF, OCR scanner, free scanner, mobile scanner, receipt scanner, business card scanner, image to PDF, document camera, auto edge detection"
    />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />
    <meta name="theme-color" content="#2563eb" />
    <meta name="author" content="NextoPDF" />
    <meta
      name="robots"
      content="index, follow, max-snippet:-1, max-image-preview:large"
    />
    <meta name="google-adsense-account" content="ca-pub-5797619165090350">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://nextopdf.com/scan" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://nextopdf.com/scan" />
    <meta
      property="og:title"
      content="Free Online Document Scanner - Scan to PDF with OCR | NextoPDF"
    />
    <meta
      property="og:description"
      content="Free online document scanner with automatic edge detection and OCR. Scan documents and convert to PDF instantly."
    />
    <meta
      property="og:image"
      content="https://nextopdf.com/images/scanner-og.png"
    />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:url" content="https://nextopdf.com/scan" />
    <meta
      name="twitter:title"
      content="Free Online Document Scanner - Scan to PDF with OCR"
    />
    <meta
      name="twitter:description"
      content="Free online document scanner with automatic edge detection and OCR. Scan documents and convert to PDF instantly."
    />
    <meta
      name="twitter:image"
      content="https://nextopdf.com/images/scanner-twitter.png"
    />

    <!-- Structured Data / Schema.org -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "NextoPDF Document Scanner",
        "url": "https://nextopdf.com/scan",
        "description": "Free online document scanner with automatic edge detection, OCR text extraction, and PDF conversion",
        "applicationCategory": "UtilitiesApplication",
        "operatingSystem": "Any",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        },
        "featureList": [
          "Automatic edge detection",
          "OCR text extraction",
          "Scan to PDF",
          "Scan to JPG",
          "Mobile camera support",
          "Image enhancement",
          "Perspective correction"
        ]
      }
    </script>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css"
    />
    <!-- Google Fonts -->
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&family=Inter:wght@400;500&display=swap"
      rel="stylesheet"
    />

    <!-- Font Awesome for icons -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <!-- CSS -->
    <link rel="stylesheet" href="./css/style.css" />
    <link rel="stylesheet" href="./css/scan.css" />

    <!-- Favicon -->
    <link
      rel="icon"
      type="image/png"
      sizes="32x32"
      href="./images/favicon-32x32.png"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="16x16"
      href="./images/favicon-16x16.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="./images/apple-touch-icon.png"
    />

    <!-- Google AdSense (Replace with your AdSense ID) -->
    <script
      async
      src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5797619165090350"
      crossorigin="anonymous"
    ></script>
  </head>

  <body>
    <section id="header-placeholder"></section>

    <div class="scanner-container">
      <div class="heading-scanner">
        <h1>üìÑ Free Online Document Scanner</h1>
        <p class="subtitle">
          Smart edge detection, auto-crop, OCR text extraction & instant PDF
          conversion
        </p>
      </div>

      <div class="message-container">
        <div class="message message-loading" id="loadingMsg">
          <div class="spinner"></div>
          <span id="loadingText">Processing...</span>
        </div>
        <div class="message message-success" id="successMsg">
          <span>‚úì</span>
          <span id="successText"></span>
        </div>
        <div class="message message-error" id="errorMsg">
          <span>‚úï</span>
          <span id="errorText"></span>
        </div>
      </div>

      <div class="content-card">
        <div class="media-container" id="mediaContainer">
          <div class="placeholder" id="placeholder">
            <div class="placeholder-icon">üì∑</div>
            <div class="placeholder-text">Ready to scan your document</div>
          </div>
          <video id="video" autoplay playsinline style="display: none"></video>
          <canvas id="canvas"></canvas>
          <img id="preview" style="display: none" alt="Document preview" />
        </div>

        <div class="btn-container" id="btnContainer">
          <button class="btn-primary" id="openCameraBtn">
            <span>üì∑</span>
            <span>Open Camera</span>
          </button>
          <button class="btn-primary" id="uploadBtn">
            <span>üìÅ</span>
            <span>Upload Image</span>
          </button>
          <input
            type="file"
            id="fileInput"
            accept="image/*"
            style="display: none"
          />

          <button class="btn-success" id="captureBtn" style="display: none">
            <span>üì∏</span>
            <span>Capture Document</span>
          </button>

          <button class="btn-success" id="cropBtn" style="display: none">
            <span>‚úÇÔ∏è</span>
            <span>Process & Save</span>
          </button>

          <button class="btn-secondary" id="retakeBtn" style="display: none">
            <span>üîÑ</span>
            <span>Start Over</span>
          </button>
        </div>

        <div class="result-actions" id="resultActions">
          <button class="btn-ocr" id="ocrBtn">
            <span>üìù</span>
            <span>Extract Text (OCR)</span>
          </button>
          <a
            class="btn btn-download"
            id="downloadJpg"
            href="#"
            download="scanned.jpg"
          >
            <span>üì•</span>
            <span>Download JPG</span>
          </a>
          <a
            class="btn btn-download"
            id="downloadPdf"
            href="#"
            download="scanned.pdf"
          >
            <span>üì•</span>
            <span>Download PDF</span>
          </a>
          <button class="btn-share" id="shareBtn">
            <span>üì§</span>
            <span>Share</span>
          </button>
        </div>
      </div>
    </div>

    <div class="loading-overlay" id="loadingOverlay">
      <div class="loading-content">
        <div class="loading-spinner"></div>
        <div class="loading-text">Processing your document...</div>
      </div>
    </div>

    <!-- OCR Modal -->
    <div class="ocr-modal" id="ocrModal">
      <div class="ocr-content">
        <div class="ocr-header">
          <h2>üìù Extracted Text</h2>
          <button class="ocr-close" id="ocrCloseBtn">√ó</button>
        </div>
        <div class="ocr-body">
          <div class="ocr-text" id="ocrText">Extracting text...</div>
        </div>
        <div class="ocr-footer">
          <button class="btn-secondary" id="copyTextBtn">
            <span>üìã</span>
            <span>Copy Text</span>
          </button>
          <button class="btn-download" id="downloadTextBtn">
            <span>üì•</span>
            <span>Download TXT</span>
          </button>
        </div>
      </div>
    </div>

    <!-- SEO Content Section -->
    <section
      class="features"
      style="background: #f9fafb; padding: 60px 20px; margin-top: 40px"
    >
      <div class="container">
        <h2>How to Use Our Free Document Scanner</h2>
        <div style="max-width: 900px; margin: 0 auto; text-align: left">
          <p style="color: #555; line-height: 1.8; margin-bottom: 30px">
            Our online document scanner makes it easy to digitize any paper
            document directly from your browser. Whether you're scanning
            contracts, receipts, business cards, or notes, our tool provides
            professional results with automatic edge detection and image
            enhancement. No app installation required - just open your camera or
            upload an image and start scanning.
          </p>

          <h3 style="color: #1e3a8a; margin-bottom: 15px; margin-top: 35px">
            Step-by-Step Scanning Guide
          </h3>
          <ol
            style="
              color: #555;
              line-height: 1.8;
              margin-bottom: 25px;
              padding-left: 25px;
            "
          >
            <li style="margin-bottom: 15px">
              <strong>Open Camera or Upload Image:</strong> Click the "Open
              Camera" button to use your device's camera, or click "Upload
              Image" to select an existing photo from your device. For best
              results, ensure good lighting and position the document flat.
            </li>
            <li style="margin-bottom: 15px">
              <strong>Capture the Document:</strong> If using the camera, align
              your document in the viewfinder and tap "Capture Document." The
              tool works with any angle - our perspective correction will
              straighten it automatically.
            </li>
            <li style="margin-bottom: 15px">
              <strong>Adjust the Selection:</strong> Our automatic edge
              detection identifies document boundaries. If needed, drag the
              corner handles to adjust the crop area and ensure all content is
              included.
            </li>
            <li style="margin-bottom: 15px">
              <strong>Process and Enhance:</strong> Click "Process & Save" to
              apply image enhancement, perspective correction, and sharpening.
              This creates a clean, professional-looking scan.
            </li>
            <li style="margin-bottom: 15px">
              <strong>Download or Extract Text:</strong> Download your scan as a
              high-quality PDF or JPG file. Use the OCR feature to extract text
              from the document for copying or editing.
            </li>
          </ol>
        </div>
      </div>
    </section>

    <!-- Features Section -->
    <section class="features" style="background: white; padding: 60px 20px">
      <div class="container">
        <h2>Document Scanner Features</h2>
        <div class="feature-grid">
          <div class="feature-card">
            <i
              class="fas fa-magic"
              style="font-size: 40px; color: #4f46e5; margin-bottom: 15px"
            ></i>
            <h3>Automatic Edge Detection</h3>
            <p>
              Smart AI-powered edge detection automatically identifies document
              boundaries, even at angles. Saves time and ensures perfect
              cropping every time.
            </p>
          </div>
          <div class="feature-card">
            <i
              class="fas fa-mobile-alt"
              style="font-size: 40px; color: #4f46e5; margin-bottom: 15px"
            ></i>
            <h3>Mobile Camera Support</h3>
            <p>
              Use your smartphone or tablet camera to scan documents on the go.
              Works perfectly on iOS, Android, and all modern mobile devices.
            </p>
          </div>
          <div class="feature-card">
            <i
              class="fas fa-text-height"
              style="font-size: 40px; color: #4f46e5; margin-bottom: 15px"
            ></i>
            <h3>OCR Text Extraction</h3>
            <p>
              Extract text from scanned documents using advanced OCR technology.
              Copy, edit, or save the text for further use. Supports multiple
              languages.
            </p>
          </div>
          <div class="feature-card">
            <i
              class="fas fa-adjust"
              style="font-size: 40px; color: #4f46e5; margin-bottom: 15px"
            ></i>
            <h3>Image Enhancement</h3>
            <p>
              Automatic brightness, contrast, and sharpness optimization ensures
              your scans look professional and are easy to read, even from
              low-quality originals.
            </p>
          </div>
          <div class="feature-card">
            <i
              class="fas fa-crop"
              style="font-size: 40px; color: #4f46e5; margin-bottom: 15px"
            ></i>
            <h3>Perspective Correction</h3>
            <p>
              Advanced perspective correction straightens documents photographed
              at angles, creating perfectly aligned scans from any viewing
              position.
            </p>
          </div>
          <div class="feature-card">
            <i
              class="fas fa-file-pdf"
              style="font-size: 40px; color: #4f46e5; margin-bottom: 15px"
            ></i>
            <h3>PDF & JPG Export</h3>
            <p>
              Save scans as high-quality PDF documents or JPG images. PDF format
              is ideal for sharing and archiving, while JPG works great for
              quick previews.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Use Cases Section -->
    <section class="features" style="background: #f9fafb; padding: 60px 20px">
      <div class="container">
        <h2>What Can You Scan?</h2>
        <div style="max-width: 900px; margin: 0 auto; text-align: left">
          <h3 style="color: #1e3a8a; margin-bottom: 15px; margin-top: 30px">
            Business Documents
          </h3>
          <p style="color: #555; line-height: 1.8; margin-bottom: 20px">
            Scan contracts, invoices, receipts, and business correspondence
            quickly. Our scanner creates professional-quality digital copies
            suitable for email, archiving, or legal purposes. The OCR feature
            lets you extract text from contracts for easy reference or copying
            into other documents. Business card scanning helps you digitize
            contact information and never lose important connections.
          </p>

          <h3 style="color: #1e3a8a; margin-bottom: 15px; margin-top: 30px">
            Personal Documents
          </h3>
          <p style="color: #555; line-height: 1.8; margin-bottom: 20px">
            Digitize important personal documents like tax forms, insurance
            papers, medical records, and identification documents. Keep secure
            digital backups without expensive scanning equipment. Scan rental
            agreements, utility bills, bank statements, and warranty documents
            for easy organization and retrieval. Perfect for creating digital
            filing systems that save physical storage space.
          </p>

          <h3 style="color: #1e3a8a; margin-bottom: 15px; margin-top: 30px">
            Educational Materials
          </h3>
          <p style="color: #555; line-height: 1.8; margin-bottom: 20px">
            Students can scan textbook pages, lecture notes, homework
            assignments, and study materials for digital access anywhere.
            Teachers can digitize worksheets, handouts, and student work for
            easy distribution or grading. The OCR feature helps convert printed
            notes into editable text for study guides or sharing with
            classmates. Scan certificates, diplomas, and transcripts for job
            applications or further education.
          </p>

          <h3 style="color: #1e3a8a; margin-bottom: 15px; margin-top: 30px">
            Books and Publications
          </h3>
          <p style="color: #555; line-height: 1.8; margin-bottom: 20px">
            Scan pages from books, magazines, newspapers, and journals for
            research or personal reference. Create digital copies of important
            articles or chapters without photocopying. Use OCR to extract
            quotes, statistics, or information from printed materials for your
            own writing or presentations. Preserve fragile or old documents by
            creating high-quality digital scans.
          </p>

          <h3 style="color: #1e3a8a; margin-bottom: 15px; margin-top: 30px">
            Receipts and Expense Tracking
          </h3>
          <p style="color: #555; line-height: 1.8; margin-bottom: 20px">
            Keep digital copies of receipts for expense reports, tax deductions,
            or warranty claims. Scan restaurant receipts, gas station receipts,
            and purchase confirmations immediately to avoid losing them. The OCR
            feature can extract amounts, dates, and vendor information for easy
            expense tracking. Perfect for freelancers, small business owners,
            and anyone who needs to track expenses or submit reimbursement
            claims.
          </p>

          <h3 style="color: #1e3a8a; margin-bottom: 15px; margin-top: 30px">
            Handwritten Notes and Forms
          </h3>
          <p style="color: #555; line-height: 1.8; margin-bottom: 20px">
            Convert handwritten notes, forms, letters, and documents into
            digital format. While OCR works best with printed text, you can
            still create clear, readable scans of handwritten materials. Useful
            for preserving family letters, recipes, journals, or meeting notes.
            Scan completed forms to email instead of faxing or mailing them.
          </p>
        </div>
      </div>
    </section>

    <!-- Tips Section -->
    <section class="features" style="background: white; padding: 60px 20px">
      <div class="container">
        <h2>Tips for Perfect Scans</h2>
        <div style="max-width: 900px; margin: 0 auto; text-align: left">
          <div style="margin-bottom: 35px">
            <h3 style="color: #1e3a8a; margin-bottom: 15px">
              Lighting Recommendations
            </h3>
            <p style="color: #555; line-height: 1.8; margin-bottom: 15px">
              Good lighting is crucial for high-quality scans. Natural daylight
              provides the best results, but avoid direct sunlight which can
              create harsh shadows or glare. If scanning indoors, use overhead
              lighting and position the document to minimize shadows. For
              documents with glossy surfaces or lamination, tilt the document
              slightly to reduce glare. Consistent, even lighting across the
              entire document ensures the best OCR accuracy and image quality.
            </p>
          </div>

          <div style="margin-bottom: 35px">
            <h3 style="color: #1e3a8a; margin-bottom: 15px">
              Document Positioning
            </h3>
            <p style="color: #555; line-height: 1.8; margin-bottom: 15px">
              Place documents on a flat, contrasting background for easier edge
              detection. A dark document on a light surface (or vice versa)
              helps the automatic cropping identify boundaries accurately.
              Remove any items from around the document that might interfere
              with edge detection. Hold your camera parallel to the document
              when possible, though our perspective correction can handle angled
              shots. For multi-page documents, scan one page at a time for best
              results.
            </p>
          </div>

          <div style="margin-bottom: 35px">
            <h3 style="color: #1e3a8a; margin-bottom: 15px">
              Camera Settings and Distance
            </h3>
            <p style="color: #555; line-height: 1.8; margin-bottom: 15px">
              Position your camera far enough from the document to capture it
              completely with some margin around the edges. Too close and you
              might miss content; too far and the text becomes harder to read.
              If your camera has trouble focusing, tap on the document in the
              preview to set focus manually. Keep the camera steady - use both
              hands or rest your device on a stable surface. For small documents
              like business cards or receipts, move closer to fill the frame for
              maximum detail.
            </p>
          </div>

          <div style="margin-bottom: 35px">
            <h3 style="color: #1e3a8a; margin-bottom: 15px">
              Improving OCR Accuracy
            </h3>
            <p style="color: #555; line-height: 1.8; margin-bottom: 15px">
              For best OCR results, ensure text is sharp and in focus. Documents
              with clear, high-contrast text (like black text on white paper)
              produce the most accurate results. Avoid scanning documents with
              background patterns, watermarks, or colored paper when possible,
              as these can reduce OCR accuracy. If the original document is low
              quality, our image enhancement will improve it, but starting with
              a clear source gives better results. Straighten crumpled documents
              before scanning.
            </p>
          </div>

          <div style="margin-bottom: 35px">
            <h3 style="color: #1e3a8a; margin-bottom: 15px">
              Handling Different Document Types
            </h3>
            <p style="color: #555; line-height: 1.8; margin-bottom: 15px">
              For thick documents like books or bound materials, flatten the
              page as much as possible or scan each page individually. When
              scanning glossy materials like photographs or laminated documents,
              adjust the angle to minimize reflections. For very thin or
              transparent paper, place a white sheet underneath to prevent text
              from the reverse side showing through. Colored documents scan
              well, but converting to grayscale can sometimes improve
              readability for text-heavy pages.
            </p>
          </div>

          <div style="margin-bottom: 35px">
            <h3 style="color: #1e3a8a; margin-bottom: 15px">
              File Format Selection
            </h3>
            <p style="color: #555; line-height: 1.8; margin-bottom: 15px">
              Choose PDF format when you need to preserve document integrity,
              share via email, or archive important papers. PDFs maintain
              quality and are universally readable. Select JPG format when you
              need a quick image that can be easily embedded in documents,
              presentations, or websites. JPG files are typically smaller and
              easier to share via messaging apps. For documents you plan to edit
              later, PDF format works better with editing software. If you need
              to extract text, use the OCR feature before downloading.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Comparison Section -->
    <section class="features" style="background: #f9fafb; padding: 60px 20px">
      <div class="container">
        <h2>Why Use Our Document Scanner?</h2>
        <div style="max-width: 900px; margin: 0 auto; text-align: left">
          <h3 style="color: #1e3a8a; margin-bottom: 15px; margin-top: 30px">
            Advantages Over Mobile Scanning Apps
          </h3>
          <p style="color: #555; line-height: 1.8; margin-bottom: 15px">
            Unlike mobile scanning apps that require installation and often
            limit free scans, our web-based scanner works instantly in any
            browser with no downloads. You get unlimited scans without signing
            up for accounts or subscriptions. Mobile apps often compress or
            watermark free scans, but we provide full-quality PDFs and images at
            no cost. Our tool works on any device - phones, tablets, laptops, or
            desktops - giving you flexibility that single-platform apps cannot
            match.
          </p>
          <p style="color: #555; line-height: 1.8; margin-bottom: 20px">
            Many scanning apps collect user data, upload documents to their
            servers, or require cloud storage accounts. We process most
            operations directly in your browser, ensuring your documents remain
            private. No tracking, no data collection, no cloud requirements.
            Your scans are yours alone.
          </p>

          <h3 style="color: #1e3a8a; margin-bottom: 15px; margin-top: 30px">
            Benefits Compared to Traditional Scanners
          </h3>
          <p style="color: #555; line-height: 1.8; margin-bottom: 15px">
            Traditional flatbed scanners and all-in-one printers are expensive,
            require desk space, and need driver installation and maintenance.
            Our online scanner turns any device with a camera into a powerful
            scanning tool. No hardware costs, no setup, no maintenance. Scan
            documents from anywhere - at the office, home, coffee shop, or while
            traveling.
          </p>
          <p style="color: #555; line-height: 1.8; margin-bottom: 20px">
            Physical scanners limit you to specific locations and can be slow,
            especially for single-page documents. With our tool, you can scan a
            receipt immediately after a purchase, digitize a contract during a
            meeting, or capture notes right after a lecture. The convenience of
            always having a scanner in your pocket through your smartphone is
            invaluable.
          </p>

          <h3 style="color: #1e3a8a; margin-bottom: 15px; margin-top: 30px">
            Professional Quality Without Professional Costs
          </h3>
          <p style="color: #555; line-height: 1.8; margin-bottom: 20px">
            Professional document scanning services charge per page or require
            monthly subscriptions. Our free scanner delivers comparable quality
            with automatic perspective correction, edge detection, and image
            enhancement. You get features like OCR text extraction that would
            normally require expensive software. Perfect for individuals,
            students, and small businesses who need professional results without
            ongoing costs. Scan hundreds of pages without worrying about fees or
            limitations.
          </p>

          <h3 style="color: #1e3a8a; margin-bottom: 15px; margin-top: 30px">
            Privacy and Security Advantages
          </h3>
          <p style="color: #555; line-height: 1.8; margin-bottom: 20px">
            When you send documents to copy shops or use office scanners, others
            may access your sensitive information. Our scanner processes
            documents privately - most operations happen locally in your browser
            without uploading to external servers. This is crucial for
            confidential business documents, personal financial information,
            medical records, or legal papers. You control your data completely,
            with no third-party access or storage of your scanned documents.
          </p>
        </div>
      </div>
    </section>

    <!-- Common Problems Section -->
    <section class="features" style="background: white; padding: 60px 20px">
      <div class="container">
        <h2>Troubleshooting Common Issues</h2>
        <div style="max-width: 900px; margin: 0 auto; text-align: left">
          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              Camera Not Working
            </h3>
            <p style="color: #555; line-height: 1.8">
              If the camera doesn't open, check that you've granted camera
              permissions in your browser settings. Most browsers will prompt
              you the first time - click "Allow" when asked. On mobile devices,
              check your device's system settings to ensure the browser has
              camera access. If using HTTPS is required for camera access, make
              sure you're on a secure connection. Try refreshing the page or
              using a different browser if problems persist.
            </p>
          </div>

          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              Edge Detection Not Accurate
            </h3>
            <p style="color: #555; line-height: 1.8">
              If automatic edge detection misses document boundaries, ensure
              there's good contrast between the document and background. Place
              dark documents on light surfaces or vice versa. Remove any other
              papers or objects from the background. If detection still fails,
              you can manually adjust the crop boundaries by dragging the corner
              handles to encompass your document precisely.
            </p>
          </div>

          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              Blurry or Unclear Scans
            </h3>
            <p style="color: #555; line-height: 1.8">
              Blurry results usually come from camera movement or poor focus.
              Hold your device steady with both hands or rest it on a surface.
              Tap the document on your screen to focus the camera on it. Ensure
              adequate lighting - dim conditions force the camera to use slower
              shutter speeds that blur easily. Clean your camera lens if images
              consistently appear hazy. Move the camera slightly farther from
              very small text to help with focus.
            </p>
          </div>

          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              OCR Not Extracting Text Correctly
            </h3>
            <p style="color: #555; line-height: 1.8">
              OCR accuracy depends on image quality and text clarity. Rescan
              with better lighting and focus if results are poor. OCR works best
              with clear, printed text - handwriting recognition is limited.
              Documents with unusual fonts, very small text, or heavy background
              patterns may have reduced accuracy. Try enhancing the image
              contrast before scanning or use a higher resolution camera if
              available. For best results, scan one page at a time rather than
              trying to OCR multiple pages in one image.
            </p>
          </div>

          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              Download Issues on Mobile Devices
            </h3>
            <p style="color: #555; line-height: 1.8">
              Mobile browsers handle downloads differently than desktop
              browsers. On iOS, PDFs may open in a new tab instead of
              downloading - tap the share icon and select "Save to Files" to
              save them. For images on iOS, tap and hold the image, then select
              "Save Image." On Android, check your Downloads folder or
              notification area for the downloaded file. If sharing is available
              on your device, use the Share button to send files directly to
              other apps or contacts.
            </p>
          </div>

          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              Processing Takes Too Long
            </h3>
            <p style="color: #555; line-height: 1.8">
              Processing time depends on image size and internet connection
              speed. Very large images (like those from high-end phone cameras)
              may take longer. For faster processing, you can resize images
              before uploading, though this may reduce quality. Ensure you have
              a stable internet connection. If processing consistently fails or
              times out, try scanning at a lower camera resolution or compress
              the image size before uploading.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- FAQ Section -->
    <section
      class="features"
      style="background: #f9fafb; padding: 60px 20px"
      id="faq"
    >
      <div class="container">
        <h2>Frequently Asked Questions</h2>
        <div style="max-width: 800px; margin: 0 auto; text-align: left">
          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              Is this document scanner really free?
            </h3>
            <p style="color: #555; line-height: 1.8">
              Yes, completely free with no hidden costs or limitations. Scan
              unlimited documents without subscriptions, watermarks, or quality
              restrictions. All features including OCR text extraction and PDF
              conversion are available at no charge.
            </p>
          </div>

          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              Do I need to download or install anything?
            </h3>
            <p style="color: #555; line-height: 1.8">
              No installation required. Our scanner works entirely in your web
              browser on any device. Just visit this page and start scanning
              immediately. No apps, no software, no downloads.
            </p>
          </div>

          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              Are my scanned documents private and secure?
            </h3>
            <p style="color: #555; line-height: 1.8">
              Absolutely. Most processing happens locally in your browser. For
              features requiring server processing, files are automatically
              deleted immediately after conversion. We never store, access, or
              share your documents.
            </p>
          </div>

          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              What file formats can I export to?
            </h3>
            <p style="color: #555; line-height: 1.8">
              You can save scans as high-quality PDF documents or JPG images.
              PDF is recommended for documents you need to share, email, or
              archive. JPG works well for quick sharing or embedding in other
              documents.
            </p>
          </div>

          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              Does OCR work with handwritten text?
            </h3>
            <p style="color: #555; line-height: 1.8">
              OCR is optimized for printed text and works best with clear, typed
              documents. While it may recognize some neat handwriting, accuracy
              is significantly lower than with printed text. For handwritten
              documents, we recommend saving as images rather than relying on
              text extraction.
            </p>
          </div>

          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              Can I scan multiple pages into one PDF?
            </h3>
            <p style="color: #555; line-height: 1.8">
              Currently, each scan creates a single-page PDF. To create
              multi-page PDFs, scan each page individually and then use our
              Merge PDF tool to combine them into one document. This gives you
              flexibility to reorder pages or remove any that didn't scan well.
            </p>
          </div>

          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              What languages does OCR support?
            </h3>
            <p style="color: #555; line-height: 1.8">
              Our OCR engine supports multiple languages including English and
              other major languages. The automatic language detection works for
              most documents. For best results with non-English documents,
              ensure clear, high-contrast text in the scan.
            </p>
          </div>

          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              Can I use this scanner on my smartphone?
            </h3>
            <p style="color: #555; line-height: 1.8">
              Yes! The scanner is fully optimized for smartphones and tablets.
              It works on iOS (iPhone/iPad), Android, and all modern mobile
              devices. Your phone's camera becomes a powerful portable scanner.
            </p>
          </div>

          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              How does automatic edge detection work?
            </h3>
            <p style="color: #555; line-height: 1.8">
              Our scanner uses computer vision algorithms to identify document
              boundaries automatically. It detects edges based on contrast,
              color differences, and shape patterns. While highly accurate, you
              can always manually adjust the detected area by dragging the
              corner handles.
            </p>
          </div>

          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              What resolution are the scanned documents?
            </h3>
            <p style="color: #555; line-height: 1.8">
              Scan quality depends on your camera resolution. We support cameras
              up to 1920x1080 or higher, automatically optimizing for clarity
              while keeping file sizes reasonable. The resulting PDFs and images
              maintain excellent readability for both screen viewing and
              printing.
            </p>
          </div>

          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              Can I edit the scanned PDF after creation?
            </h3>
            <p style="color: #555; line-height: 1.8">
              The scanner creates standard PDF files that can be edited with PDF
              editing software. Use our Edit PDF tool for basic modifications,
              or convert to Word format using our PDF to Word converter for
              extensive editing. The OCR feature lets you extract text for
              copying and editing separately.
            </p>
          </div>

          <div style="margin-bottom: 30px">
            <h3 style="color: #1e3a8a; margin-bottom: 10px">
              Is there a limit on file size or number of scans?
            </h3>
            <p style="color: #555; line-height: 1.8">
              No limits! Scan as many documents as you need. Individual scans
              are optimized for quality while maintaining reasonable file sizes,
              typically 200KB to 2MB depending on document complexity and camera
              resolution.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Related Tools Section -->
    <section class="features" style="background: white; padding: 60px 20px">
      <div class="container">
        <h2>Related PDF Tools</h2>
        <p style="text-align: center; color: #555; margin-bottom: 40px">
          After scanning your documents, use these tools to manage and enhance
          them
        </p>
        <div class="feature-grid">
          <div class="feature-card">
            <i
              class="fas fa-object-group"
              style="font-size: 40px; color: #4f46e5; margin-bottom: 15px"
            ></i>
            <h3>Merge PDFs</h3>
            <p>
              Combine multiple scanned pages into a single PDF document for
              easier sharing and organization.
            </p>
            <a
              href="/merge"
              class="cta-button"
              style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
              >Use Tool</a
            >
          </div>
          <div class="feature-card">
            <i
              class="fas fa-file-alt"
              style="font-size: 40px; color: #10b981; margin-bottom: 15px"
            ></i>
            <h3>OCR PDF</h3>
            <p>
              Extract text from scanned PDFs in batch, making entire documents
              searchable and editable.
            </p>
            <a
              href="/ocr_pdf"
              class="cta-button"
              style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
              >Use Tool</a
            >
          </div>
          <div class="feature-card">
            <i
              class="fas fa-compress"
              style="font-size: 40px; color: #f59e0b; margin-bottom: 15px"
            ></i>
            <h3>Compress PDF</h3>
            <p>
              Reduce the file size of scanned PDFs for easier email sharing and
              faster uploads.
            </p>
            <a
              href="/compress-pdf"
              class="cta-button"
              style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
              >Use Tool</a
            >
          </div>
          <div class="feature-card">
            <i
              class="fas fa-edit"
              style="font-size: 40px; color: #4f46e5; margin-bottom: 15px"
            ></i>
            <h3>Edit PDF</h3>
            <p>
              Add annotations, highlights, or corrections to your scanned
              documents.
            </p>
            <a
              href="/edit"
              class="cta-button"
              style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
              >Use Tool</a
            >
          </div>
          <div class="feature-card">
            <i
              class="fas fa-sync-alt"
              style="font-size: 40px; color: #10b981; margin-bottom: 15px"
            ></i>
            <h3>Rotate PDF</h3>
            <p>
              Fix orientation of scanned pages that were captured upside down or
              sideways.
            </p>
            <a
              href="/rotate"
              class="cta-button"
              style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
              >Use Tool</a
            >
          </div>
          <div class="feature-card">
            <i
              class="fas fa-lock"
              style="font-size: 40px; color: #f59e0b; margin-bottom: 15px"
            ></i>
            <h3>Protect PDF</h3>
            <p>
              Add password protection to secure your scanned sensitive
              documents.
            </p>
            <a
              href="/protect-pdf"
              class="cta-button"
              style="font-size: 14px; padding: 8px 16px; margin-top: 10px"
              >Use Tool</a
            >
          </div>
        </div>
      </div>
    </section>

    <!-- CTA Section -->
    <section
      class="hero"
      style="
        padding: 60px 20px;
        background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%);
      "
    >
      <div class="container">
        <h2 style="font-size: 32px; margin-bottom: 15px; color: white">
          Start Scanning Documents Now
        </h2>
        <p style="margin-bottom: 25px; color: white">
          Free, fast, and secure document scanning right in your browser. No app
          required.
        </p>
        <a
          href="#"
          onclick="
            window.scrollTo({ top: 0, behavior: 'smooth' });
            return false;
          "
          class="cta-button"
          style="background: white; color: #2563eb"
        >
          <i class="fas fa-arrow-up"></i> Scan Your First Document
        </a>
      </div>
    </section>

    <section id="footer-placeholder"></section>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>
    <!-- JS -->
    <script src="./js/app.js"></script>
    <script>
      const BACKEND_URL = `${BACKEND_BASE_URL}`;

      let stream = null;
      let cropper = null;
      let currentImageBlob = null;
      let processedImageBlob = null;
      let extractedText = "";

      const video = document.getElementById("video");
      const canvas = document.getElementById("canvas");
      const preview = document.getElementById("preview");
      const placeholder = document.getElementById("placeholder");
      const mediaContainer = document.getElementById("mediaContainer");

      const openCameraBtn = document.getElementById("openCameraBtn");
      const uploadBtn = document.getElementById("uploadBtn");
      const fileInput = document.getElementById("fileInput");
      const captureBtn = document.getElementById("captureBtn");
      const cropBtn = document.getElementById("cropBtn");
      const retakeBtn = document.getElementById("retakeBtn");

      const loadingMsg = document.getElementById("loadingMsg");
      const successMsg = document.getElementById("successMsg");
      const errorMsg = document.getElementById("errorMsg");
      const loadingOverlay = document.getElementById("loadingOverlay");

      const resultActions = document.getElementById("resultActions");
      const downloadJpg = document.getElementById("downloadJpg");
      const downloadPdf = document.getElementById("downloadPdf");
      const shareBtn = document.getElementById("shareBtn");
      const ocrBtn = document.getElementById("ocrBtn");

      const ocrModal = document.getElementById("ocrModal");
      const ocrText = document.getElementById("ocrText");
      const ocrCloseBtn = document.getElementById("ocrCloseBtn");
      const copyTextBtn = document.getElementById("copyTextBtn");
      const downloadTextBtn = document.getElementById("downloadTextBtn");

      function showLoading(text = "Processing...") {
        hideMessages();
        document.getElementById("loadingText").textContent = text;
        loadingMsg.style.display = "flex";
      }

      function showSuccess(text) {
        hideMessages();
        document.getElementById("successText").textContent = text;
        successMsg.style.display = "flex";
        setTimeout(() => (successMsg.style.display = "none"), 5000);
      }

      function showError(text) {
        hideMessages();
        document.getElementById("errorText").textContent = text;
        errorMsg.style.display = "flex";
        loadingOverlay.classList.remove("show");
      }

      function hideMessages() {
        loadingMsg.style.display = "none";
        successMsg.style.display = "none";
        errorMsg.style.display = "none";
      }

      function resetUI() {
        if (stream) {
          stream.getTracks().forEach((t) => t.stop());
          stream = null;
        }

        if (cropper) {
          cropper.destroy();
          cropper = null;
        }

        video.style.display = "none";
        preview.style.display = "none";
        placeholder.style.display = "block";
        mediaContainer.classList.add("empty");

        openCameraBtn.style.display = "inline-flex";
        uploadBtn.style.display = "inline-flex";
        captureBtn.style.display = "none";
        cropBtn.style.display = "none";
        retakeBtn.style.display = "none";
        resultActions.classList.remove("show");

        cropBtn.disabled = false;

        currentImageBlob = null;
        processedImageBlob = null;
        extractedText = "";
        fileInput.value = "";
        hideMessages();
      }

      openCameraBtn.onclick = async () => {
        try {
          hideMessages();
          showLoading("Opening camera...");

          stream = await navigator.mediaDevices.getUserMedia({
            video: {
              facingMode: "environment",
              width: { ideal: 1920 },
              height: { ideal: 1080 },
            },
          });

          video.srcObject = stream;
          video.style.display = "block";
          placeholder.style.display = "none";
          mediaContainer.classList.remove("empty");

          openCameraBtn.style.display = "none";
          uploadBtn.style.display = "none";
          captureBtn.style.display = "inline-flex";

          hideMessages();
        } catch (err) {
          console.error("Camera error:", err);
          showError("Camera access denied. Please allow camera permissions.");
          resetUI();
        }
      };

      uploadBtn.onclick = () => {
        hideMessages();
        fileInput.click();
      };

      fileInput.onchange = async (e) => {
        const file = e.target.files[0];
        if (!file) return;

        showLoading("Loading image...");

        try {
          currentImageBlob = file;
          const imageUrl = URL.createObjectURL(file);
          await setupCropper(imageUrl);
        } catch (err) {
          showError("Failed to load image: " + err.message);
        }
      };

      captureBtn.onclick = async () => {
        try {
          showLoading("Capturing image...");

          canvas.width = video.videoWidth;
          canvas.height = video.videoHeight;
          const ctx = canvas.getContext("2d");
          ctx.drawImage(video, 0, 0);

          if (stream) {
            stream.getTracks().forEach((t) => t.stop());
            stream = null;
          }
          video.style.display = "none";

          currentImageBlob = await new Promise((resolve) => {
            canvas.toBlob(resolve, "image/jpeg", 0.95);
          });

          const imageUrl = URL.createObjectURL(currentImageBlob);
          await setupCropper(imageUrl);

          captureBtn.style.display = "none";
        } catch (err) {
          showError("Failed to capture: " + err.message);
        }
      };

      async function setupCropper(imageUrl) {
        preview.src = imageUrl;
        preview.style.display = "block";
        placeholder.style.display = "none";

        openCameraBtn.style.display = "none";
        uploadBtn.style.display = "none";
        captureBtn.style.display = "none";
        cropBtn.style.display = "inline-flex";
        retakeBtn.style.display = "inline-flex";

        await new Promise((resolve, reject) => {
          preview.onload = resolve;
          preview.onerror = reject;
        });

        if (cropper) cropper.destroy();

        cropper = new Cropper(preview, {
          viewMode: 1,
          dragMode: "move",
          autoCropArea: 0.9,
          restore: false,
          modal: true,
          guides: true,
          center: true,
          highlight: true,
          cropBoxMovable: true,
          cropBoxResizable: true,
          toggleDragModeOnDblclick: false,
          minContainerWidth: 200,
          minContainerHeight: 200,
          minCropBoxWidth: 100,
          minCropBoxHeight: 100,
          responsive: true,
          checkCrossOrigin: false,
          background: false,
          movable: true,
          zoomable: true,
          zoomOnTouch: true,
          zoomOnWheel: true,
          wheelZoomRatio: 0.1,
          scalable: true,
          rotatable: true,
          ready: function () {
            tryAutoDetect();
          },
        });
      }

      async function tryAutoDetect() {
        try {
          showLoading("Detecting document edges...");

          const formData = new FormData();
          formData.append("image", currentImageBlob, "image.jpg");

          const res = await fetch(`${BACKEND_URL}/detect-corners`, {
            method: "POST",
            body: formData,
          });

          if (!res.ok) {
            console.error("Detection failed:", res.status);
            showSuccess("Ready to crop. Drag corners to adjust the selection.");
            return;
          }

          const data = await res.json();

          if (data.detected && data.corners && data.corners.length === 4) {
            const corners = data.corners;
            const imageData = cropper.getImageData();

            const xs = corners.map((c) => c[0]);
            const ys = corners.map((c) => c[1]);
            const minX = Math.min(...xs);
            const minY = Math.min(...ys);
            const maxX = Math.max(...xs);
            const maxY = Math.max(...ys);

            const scaleX = imageData.width / imageData.naturalWidth;
            const scaleY = imageData.height / imageData.naturalHeight;

            const cropBoxData = {
              left: imageData.left + minX * scaleX,
              top: imageData.top + minY * scaleY,
              width: (maxX - minX) * scaleX,
              height: (maxY - minY) * scaleY,
            };

            cropper.setCropBoxData(cropBoxData);

            showSuccess(
              "‚úì Document detected! Drag corners to fine-tune the selection.",
            );
          } else {
            showSuccess("Ready to crop. Drag corners to adjust the selection.");
          }
        } catch (err) {
          console.error("Auto-detect error:", err);
          showSuccess("Ready to crop. Drag corners to adjust the selection.");
        }
      }

      cropBtn.onclick = async () => {
        if (!cropper) {
          showError("Please capture or upload an image first.");
          return;
        }

        loadingOverlay.classList.add("show");
        cropBtn.disabled = true;

        try {
          const croppedCanvas = cropper.getCroppedCanvas({
            imageSmoothingQuality: "high",
            maxWidth: 2400,
            maxHeight: 2400,
          });

          const croppedBlob = await new Promise((resolve) =>
            croppedCanvas.toBlob(resolve, "image/jpeg", 0.95),
          );

          const jpgFormData = new FormData();
          jpgFormData.append("image", croppedBlob, "cropped.jpg");
          jpgFormData.append("format", "jpg");
          jpgFormData.append("enhance", "true");

          const jpgRes = await fetch(`${BACKEND_URL}/scan`, {
            method: "POST",
            body: jpgFormData,
          });

          if (!jpgRes.ok)
            throw new Error(`JPG processing failed: ${jpgRes.status}`);

          const jpgBlob = await jpgRes.blob();
          processedImageBlob = jpgBlob;

          const pdfFormData = new FormData();
          pdfFormData.append("image", croppedBlob, "cropped.jpg");
          pdfFormData.append("format", "pdf");
          pdfFormData.append("enhance", "true");

          const pdfRes = await fetch(`${BACKEND_URL}/scan`, {
            method: "POST",
            body: pdfFormData,
          });

          if (!pdfRes.ok)
            throw new Error(`PDF processing failed: ${pdfRes.status}`);

          const pdfBlob = await pdfRes.blob();

          if (cropper) {
            cropper.destroy();
            cropper = null;
          }

          const jpgUrl = URL.createObjectURL(jpgBlob);
          preview.src = jpgUrl;

          setupDownload(downloadJpg, jpgBlob, "scanned.jpg", "image/jpeg");
          setupDownload(downloadPdf, pdfBlob, "scanned.pdf", "application/pdf");

          shareBtn.onclick = async () => {
            if (navigator.share && navigator.canShare) {
              try {
                await navigator.share({
                  files: [
                    new File([pdfBlob], "scanned.pdf", {
                      type: "application/pdf",
                    }),
                  ],
                });
              } catch (err) {
                if (err.name !== "AbortError") {
                  showError("Share failed: " + err.message);
                }
              }
            } else {
              showError("Share not supported on this device.");
            }
          };

          cropBtn.style.display = "none";
          resultActions.classList.add("show");
          loadingOverlay.classList.remove("show");
          showSuccess("‚úì Document processed successfully!");
        } catch (err) {
          console.error("Processing error:", err);
          showError("Processing failed: " + err.message);
          loadingOverlay.classList.remove("show");
          cropBtn.disabled = false;
        }
      };

      ocrBtn.onclick = async () => {
        if (!processedImageBlob) {
          showError("No processed image available for OCR.");
          return;
        }

        try {
          loadingOverlay.classList.add("show");
          ocrText.textContent = "Extracting text from document...";

          const formData = new FormData();
          formData.append("image", processedImageBlob, "image.jpg");

          const res = await fetch(`${BACKEND_URL}/ocr`, {
            method: "POST",
            body: formData,
          });

          if (!res.ok) {
            const errorData = await res
              .json()
              .catch(() => ({ error: "OCR failed" }));
            throw new Error(errorData.error || `OCR failed: ${res.status}`);
          }

          const data = await res.json();

          extractedText = data.text || "";

          if (!extractedText || extractedText.trim().length === 0) {
            ocrText.textContent = "No text detected in the image.";
          } else {
            ocrText.textContent = extractedText;
          }

          loadingOverlay.classList.remove("show");
          ocrModal.classList.add("show");
          showSuccess("‚úì Text extracted successfully!");
        } catch (err) {
          console.error("OCR error:", err);
          loadingOverlay.classList.remove("show");
          showError("OCR failed: " + err.message);
        }
      };

      ocrCloseBtn.onclick = () => {
        ocrModal.classList.remove("show");
      };

      copyTextBtn.onclick = async () => {
        try {
          await navigator.clipboard.writeText(extractedText);
          showSuccess("‚úì Text copied to clipboard!");
        } catch (err) {
          showError("Failed to copy text.");
        }
      };

      downloadTextBtn.onclick = () => {
        const blob = new Blob([extractedText], { type: "text/plain" });
        const url = URL.createObjectURL(blob);
        const a = document.createElement("a");
        a.href = url;
        a.download = "extracted_text.txt";
        document.body.appendChild(a);
        a.click();
        document.body.removeChild(a);
        URL.revokeObjectURL(url);
        showSuccess("‚úì Text file downloaded!");
      };

      ocrModal.onclick = (e) => {
        if (e.target === ocrModal) {
          ocrModal.classList.remove("show");
        }
      };

      retakeBtn.onclick = () => {
        resetUI();
      };

      function setupDownload(linkElement, blob, filename, mimeType) {
        const isIOS =
          /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;
        const isSafari = /^((?!chrome|android).)*safari/i.test(
          navigator.userAgent,
        );

        if (isIOS || isSafari) {
          linkElement.onclick = async (e) => {
            e.preventDefault();

            try {
              showLoading("Preparing download...");

              const reader = new FileReader();
              const dataUrl = await new Promise((resolve, reject) => {
                reader.onloadend = () => resolve(reader.result);
                reader.onerror = reject;
                reader.readAsDataURL(blob);
              });

              const tempLink = document.createElement("a");
              tempLink.href = dataUrl;
              tempLink.download = filename;

              if (mimeType === "application/pdf") {
                window.location.href = dataUrl;
                hideMessages();
                setTimeout(() => {
                  showSuccess("PDF opened. Tap Share (‚Üë) ‚Üí Save to Files");
                }, 500);
              } else {
                document.body.appendChild(tempLink);
                tempLink.click();
                document.body.removeChild(tempLink);

                hideMessages();
                setTimeout(() => {
                  showSuccess("Tap and hold image, then select 'Save Image'");
                }, 500);
              }
            } catch (err) {
              console.error("iOS download error:", err);
              showError("Download failed. Please try again.");
            }
          };
        } else {
          const blobUrl = URL.createObjectURL(blob);
          linkElement.href = blobUrl;
          linkElement.download = filename;

          linkElement.onclick = (e) => {
            e.preventDefault();

            try {
              const tempLink = document.createElement("a");
              tempLink.href = blobUrl;
              tempLink.download = filename;
              tempLink.style.display = "none";

              document.body.appendChild(tempLink);
              tempLink.click();
              document.body.removeChild(tempLink);

              showSuccess(`Downloading ${filename}...`);

              setTimeout(() => URL.revokeObjectURL(blobUrl), 100);
            } catch (err) {
              console.error("Download failed:", err);
              showError("Download failed. Please try again.");
            }
          };
        }
      }

      window.addEventListener("load", async () => {
        try {
          const res = await fetch(`${BACKEND_URL}/`);
          const data = await res.json();
          console.log("‚úì Backend connected:", data);
        } catch (err) {
          console.error("‚úó Backend not reachable:", err);
          showError("Backend server not reachable. Please check connection.");
        }
      });
    </script>
  </body>
</html>
